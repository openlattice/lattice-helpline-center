(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{114:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return RESET_REQUEST_STATE})),__webpack_require__.d(__webpack_exports__,"b",(function(){return resetRequestState}));var RESET_REQUEST_STATE="RESET_REQUEST_STATE";function resetRequestState(path){return{path:path,type:RESET_REQUEST_STATE}}},15:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ANSWERS})),__webpack_require__.d(__webpack_exports__,"b",(function(){return CATEGORY_BY_QUESTION_NUMBER})),__webpack_require__.d(__webpack_exports__,"c",(function(){return GREATEST_NEEDS})),__webpack_require__.d(__webpack_exports__,"d",(function(){return LAST_REQUEST})),__webpack_require__.d(__webpack_exports__,"e",(function(){return PERSON})),__webpack_require__.d(__webpack_exports__,"f",(function(){return PROFILE})),__webpack_require__.d(__webpack_exports__,"g",(function(){return PROFILE_PATHS})),__webpack_require__.d(__webpack_exports__,"h",(function(){return PROVIDER})),__webpack_require__.d(__webpack_exports__,"i",(function(){return QUESTIONS})),__webpack_require__.d(__webpack_exports__,"j",(function(){return SELF_SUFFICIENCY})),__webpack_require__.d(__webpack_exports__,"k",(function(){return SUBMISSIONS})),__webpack_require__.d(__webpack_exports__,"l",(function(){return SUBMISSION_ANSWERS_BY_QUESTION})),__webpack_require__.d(__webpack_exports__,"m",(function(){return SURVEY_HISTORY}));var _PROFILE_PATHS;__webpack_require__(57),__webpack_require__(50);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var GREATEST_NEEDS="greatestNeeds",PERSON="person",PROFILE="profile",SELF_SUFFICIENCY="selfSufficiency",SURVEY_HISTORY="surveyHistory",SUBMISSIONS="submissions",QUESTIONS="questions",ANSWERS="answers",LAST_REQUEST="lastRequest",SUBMISSION_ANSWERS_BY_QUESTION="submissionAnswersByQuestion",PROVIDER="provider",PROFILE_PATHS=(_defineProperty(_PROFILE_PATHS={},ANSWERS,[PROFILE,ANSWERS]),_defineProperty(_PROFILE_PATHS,"greatestNeeds",[PROFILE,"greatestNeeds"]),_defineProperty(_PROFILE_PATHS,LAST_REQUEST,[PROFILE,LAST_REQUEST]),_defineProperty(_PROFILE_PATHS,PERSON,[PROFILE,PERSON]),_defineProperty(_PROFILE_PATHS,PROVIDER,[PROFILE,PROVIDER]),_defineProperty(_PROFILE_PATHS,QUESTIONS,[PROFILE,QUESTIONS]),_defineProperty(_PROFILE_PATHS,SELF_SUFFICIENCY,[PROFILE,SELF_SUFFICIENCY]),_defineProperty(_PROFILE_PATHS,SUBMISSIONS,[PROFILE,SUBMISSIONS]),_defineProperty(_PROFILE_PATHS,SUBMISSION_ANSWERS_BY_QUESTION,[PROFILE,SUBMISSION_ANSWERS_BY_QUESTION]),_defineProperty(_PROFILE_PATHS,SURVEY_HISTORY,[PROFILE,SURVEY_HISTORY]),_PROFILE_PATHS),CATEGORY_BY_QUESTION_NUMBER=Object.freeze({1:"Shelter",2:"Food",3:"Food",4:"Transportation",5:"Employment & Income",6:"Employment & Income",7:"Financial Strain",8:"Financial Strain",9:"Childcare",10:"Healthcare",11:"Healthcare",12:"Mental Health",13:"Mental Health",14:"Substance Use",15:"Substance Use",16:"Substance Use",17:"Safety"})},1611:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(301),lattice_ui_kit__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.addDecorator)((function(storyFn){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(lattice_ui_kit__WEBPACK_IMPORTED_MODULE_2__.ThemeProvider,{theme:lattice_ui_kit__WEBPACK_IMPORTED_MODULE_2__.lightTheme},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(lattice_ui_kit__WEBPACK_IMPORTED_MODULE_2__.MuiPickersUtilsProvider,{utils:lattice_ui_kit__WEBPACK_IMPORTED_MODULE_2__.LatticeLuxonUtils},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(lattice_ui_kit__WEBPACK_IMPORTED_MODULE_2__.StylesProvider,{injectFirst:!0},storyFn())))}))},1634:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(301);module._StorybookPreserveDecorators=!0,Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)([__webpack_require__(1635),__webpack_require__(1655)],module)}.call(this,__webpack_require__(638)(module))},1635:function(module,exports,__webpack_require__){var map={"./0-Welcome.stories.js":1636,"./1-Button.stories.js":1642};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1635},1636:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ToStorybook",(function(){return ToStorybook}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_addon_links__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(688),_storybook_react_demo__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(161),addSourceDecorator=(__webpack_require__(76).withSource,__webpack_require__(76).addSource);__webpack_exports__.default={parameters:{storySource:{source:"import React from 'react';\n\nimport { linkTo } from '@storybook/addon-links';\nimport { Welcome } from '@storybook/react/demo';\n\nexport default {\n  title: 'Welcome',\n  component: Welcome,\n};\n\nexport const ToStorybook = () => <Welcome showApp={linkTo('Button')} />;\n\nToStorybook.story = {\n  name: 'to Storybook',\n};\n",locationsMap:{"welcome--to-storybook":{startLoc:{col:27,line:11},endLoc:{col:71,line:11},startBody:{col:27,line:11},endBody:{col:71,line:11}}}}},title:"Welcome",component:_storybook_react_demo__WEBPACK_IMPORTED_MODULE_2__.Welcome};var ToStorybook=addSourceDecorator((function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_storybook_react_demo__WEBPACK_IMPORTED_MODULE_2__.Welcome,{showApp:Object(_storybook_addon_links__WEBPACK_IMPORTED_MODULE_1__.linkTo)("Button")})}),{__STORY__:"import React from 'react';\n\nimport { linkTo } from '@storybook/addon-links';\nimport { Welcome } from '@storybook/react/demo';\n\nexport default {\n  title: 'Welcome',\n  component: Welcome,\n};\n\nexport const ToStorybook = () => <Welcome showApp={linkTo('Button')} />;\n\nToStorybook.story = {\n  name: 'to Storybook',\n};\n",__ADDS_MAP__:{"welcome--to-storybook":{startLoc:{col:27,line:11},endLoc:{col:71,line:11},startBody:{col:27,line:11},endBody:{col:71,line:11}}},__MAIN_FILE_LOCATION__:"/0-Welcome.stories.js",__MODULE_DEPENDENCIES__:[],__LOCAL_DEPENDENCIES__:{},__SOURCE_PREFIX__:"/home/runner/work/lattice-helpline-center/lattice-helpline-center/stories",__IDS_TO_FRAMEWORKS__:{}});ToStorybook.story={name:"to Storybook"}},1642:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Text",(function(){return Text})),__webpack_require__.d(__webpack_exports__,"Emoji",(function(){return Emoji}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(430),_storybook_react_demo__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(161),addSourceDecorator=(__webpack_require__(76).withSource,__webpack_require__(76).addSource),__SOURCE_PREFIX__="/home/runner/work/lattice-helpline-center/lattice-helpline-center/stories",__STORY__="import React from 'react';\n\nimport { action } from '@storybook/addon-actions';\nimport { Button } from '@storybook/react/demo';\n\nexport default {\n  title: 'Button',\n  component: Button,\n};\n\nexport const Text = () => <Button onClick={action('clicked')}>Hello Button</Button>;\n\nexport const Emoji = () => (\n  <Button onClick={action('clicked')}>\n    <span role=\"img\" aria-label=\"so cool\">\n      üòÄ üòé üëç üíØ\n    </span>\n  </Button>\n);\n",__ADDS_MAP__={"button--text":{startLoc:{col:20,line:11},endLoc:{col:83,line:11},startBody:{col:20,line:11},endBody:{col:83,line:11}},"button--emoji":{startLoc:{col:21,line:13},endLoc:{col:1,line:19},startBody:{col:21,line:13},endBody:{col:1,line:19}}},__MODULE_DEPENDENCIES__=[],__LOCAL_DEPENDENCIES__={},__IDS_TO_FRAMEWORKS__={};__webpack_exports__.default={parameters:{storySource:{source:"import React from 'react';\n\nimport { action } from '@storybook/addon-actions';\nimport { Button } from '@storybook/react/demo';\n\nexport default {\n  title: 'Button',\n  component: Button,\n};\n\nexport const Text = () => <Button onClick={action('clicked')}>Hello Button</Button>;\n\nexport const Emoji = () => (\n  <Button onClick={action('clicked')}>\n    <span role=\"img\" aria-label=\"so cool\">\n      üòÄ üòé üëç üíØ\n    </span>\n  </Button>\n);\n",locationsMap:{"button--text":{startLoc:{col:20,line:11},endLoc:{col:83,line:11},startBody:{col:20,line:11},endBody:{col:83,line:11}},"button--emoji":{startLoc:{col:21,line:13},endLoc:{col:1,line:19},startBody:{col:21,line:13},endBody:{col:1,line:19}}}}},title:"Button",component:_storybook_react_demo__WEBPACK_IMPORTED_MODULE_2__.Button};var Text=addSourceDecorator((function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_storybook_react_demo__WEBPACK_IMPORTED_MODULE_2__.Button,{onClick:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_1__.action)("clicked")},"Hello Button")}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/1-Button.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),_ref=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",{role:"img","aria-label":"so cool"},"üòÄ üòé üëç üíØ"),Emoji=addSourceDecorator((function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_storybook_react_demo__WEBPACK_IMPORTED_MODULE_2__.Button,{onClick:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_1__.action)("clicked")},_ref)}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/1-Button.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__})},1655:function(module,exports,__webpack_require__){var map={"./downloads/stories/downloads.stories.js":1783,"./profile/stories/container.stories.js":1776,"./profile/stories/history.stories.js":1777,"./profile/stories/needs.stories.js":1778,"./profile/stories/profile.stories.js":1779,"./profile/stories/sufficiency.stories.js":1784,"./profile/stories/survey.stories.js":1780};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1655},1776:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"HelplineContainerStory",(function(){return HelplineContainerStory})),__webpack_require__.d(__webpack_exports__,"LiveHelplineContainerStory",(function(){return LiveHelplineContainerStory}));__webpack_require__(9),__webpack_require__(20),__webpack_require__(31),__webpack_require__(83),__webpack_require__(54),__webpack_require__(55),__webpack_require__(33),__webpack_require__(24),__webpack_require__(28),__webpack_require__(34),__webpack_require__(26),__webpack_require__(47),__webpack_require__(57),__webpack_require__(641),__webpack_require__(642),__webpack_require__(21),__webpack_require__(16),__webpack_require__(35),__webpack_require__(25),__webpack_require__(172),__webpack_require__(56),__webpack_require__(27);var react__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_22__),lattice__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(40),lattice_ui_kit__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(5),___WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(67);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_require__(76).withSource;var addSourceDecorator=__webpack_require__(76).addSource,__SOURCE_PREFIX__="/home/runner/work/lattice-helpline-center/lattice-helpline-center/src/containers/profile/stories",__STORY__='import React, { useState } from \'react\';\n\nimport { configure } from \'lattice\';\nimport {\n  Button,\n  Card,\n  CardSegment,\n  Input,\n  Label,\n} from \'lattice-ui-kit\';\n\nimport { HelplineContainer } from \'..\';\n\nexport default {\n  title: \'Helpline Container\',\n  component: HelplineContainer,\n};\n\nexport const HelplineContainerStory = () => (\n  <HelplineContainer />\n);\n\nHelplineContainerStory.story = {\n  name: \'Helpline Container\'\n};\n\nexport const LiveHelplineContainerStory = () => {\n  const [inputData, setInputs] = useState({\n    jwt: \'\',\n    orgId: \'\',\n    personId: \'\'\n  });\n  const { jwt, orgId, personId } = inputData;\n  const [organizationId, setOrganization] = useState(orgId);\n  const [personEKID, setPerson] = useState(personId);\n\n  const onConfigure = (e) => {\n    e.preventDefault();\n    configure({\n      baseUrl: \'production\',\n      authToken: jwt\n    });\n    setOrganization(orgId);\n  };\n\n  const onFetch = (e) => {\n    e.preventDefault();\n    setPerson(personId);\n  };\n\n  const onChange = (e) => {\n    setInputs({\n      ...inputData,\n      [e.target.name]: e.target.value.trim()\n    });\n  };\n\n  return (\n    <>\n      <Card>\n        <CardSegment>\n          <form onSubmit={onConfigure}>\n            <Label htmlFor="jwt" subtle>JWT</Label>\n            <Input id="jwt" name="jwt" onChange={onChange} value={jwt} />\n            <Label htmlFor="org-id" subtle>Org ID</Label>\n            <Input id="org-id" name="orgId" onChange={onChange} value={orgId} />\n            <Button color="primary" type="submit">Configure</Button>\n          </form>\n          <form onSubmit={onFetch}>\n            <Label htmlFor="person-id" subtle>Person ID</Label>\n            <Input id="person-id" name="personId" onChange={onChange} value={personId} />\n            <Button color="primary" type="submit">Fetch Person</Button>\n          </form>\n        </CardSegment>\n      </Card>\n      <HelplineContainer\n          root="/"\n          organizationId={organizationId}\n          personId={personEKID}\n          match={{}} />\n    </>\n  );\n};\n\nLiveHelplineContainerStory.story = {\n  name: \'Live Helpline Container\'\n};\n',__ADDS_MAP__={"helpline-container--helpline-container-story":{startLoc:{col:38,line:19},endLoc:{col:1,line:21},startBody:{col:38,line:19},endBody:{col:1,line:21}},"helpline-container--live-helpline-container-story":{startLoc:{col:42,line:27},endLoc:{col:1,line:83},startBody:{col:42,line:27},endBody:{col:1,line:83}}},__MODULE_DEPENDENCIES__=[],__LOCAL_DEPENDENCIES__={},__IDS_TO_FRAMEWORKS__={};__webpack_exports__.default={parameters:{storySource:{source:'import React, { useState } from \'react\';\n\nimport { configure } from \'lattice\';\nimport {\n  Button,\n  Card,\n  CardSegment,\n  Input,\n  Label,\n} from \'lattice-ui-kit\';\n\nimport { HelplineContainer } from \'..\';\n\nexport default {\n  title: \'Helpline Container\',\n  component: HelplineContainer,\n};\n\nexport const HelplineContainerStory = () => (\n  <HelplineContainer />\n);\n\nHelplineContainerStory.story = {\n  name: \'Helpline Container\'\n};\n\nexport const LiveHelplineContainerStory = () => {\n  const [inputData, setInputs] = useState({\n    jwt: \'\',\n    orgId: \'\',\n    personId: \'\'\n  });\n  const { jwt, orgId, personId } = inputData;\n  const [organizationId, setOrganization] = useState(orgId);\n  const [personEKID, setPerson] = useState(personId);\n\n  const onConfigure = (e) => {\n    e.preventDefault();\n    configure({\n      baseUrl: \'production\',\n      authToken: jwt\n    });\n    setOrganization(orgId);\n  };\n\n  const onFetch = (e) => {\n    e.preventDefault();\n    setPerson(personId);\n  };\n\n  const onChange = (e) => {\n    setInputs({\n      ...inputData,\n      [e.target.name]: e.target.value.trim()\n    });\n  };\n\n  return (\n    <>\n      <Card>\n        <CardSegment>\n          <form onSubmit={onConfigure}>\n            <Label htmlFor="jwt" subtle>JWT</Label>\n            <Input id="jwt" name="jwt" onChange={onChange} value={jwt} />\n            <Label htmlFor="org-id" subtle>Org ID</Label>\n            <Input id="org-id" name="orgId" onChange={onChange} value={orgId} />\n            <Button color="primary" type="submit">Configure</Button>\n          </form>\n          <form onSubmit={onFetch}>\n            <Label htmlFor="person-id" subtle>Person ID</Label>\n            <Input id="person-id" name="personId" onChange={onChange} value={personId} />\n            <Button color="primary" type="submit">Fetch Person</Button>\n          </form>\n        </CardSegment>\n      </Card>\n      <HelplineContainer\n          root="/"\n          organizationId={organizationId}\n          personId={personEKID}\n          match={{}} />\n    </>\n  );\n};\n\nLiveHelplineContainerStory.story = {\n  name: \'Live Helpline Container\'\n};\n',locationsMap:{"helpline-container--helpline-container-story":{startLoc:{col:38,line:19},endLoc:{col:1,line:21},startBody:{col:38,line:19},endBody:{col:1,line:21}},"helpline-container--live-helpline-container-story":{startLoc:{col:42,line:27},endLoc:{col:1,line:83},startBody:{col:42,line:27},endBody:{col:1,line:83}}}}},title:"Helpline Container",component:___WEBPACK_IMPORTED_MODULE_25__.b};var _ref=react__WEBPACK_IMPORTED_MODULE_22___default.a.createElement(___WEBPACK_IMPORTED_MODULE_25__.b,null),HelplineContainerStory=addSourceDecorator((function(){return _ref}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/container.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__});HelplineContainerStory.story={name:"Helpline Container"};var _ref2=react__WEBPACK_IMPORTED_MODULE_22___default.a.createElement(lattice_ui_kit__WEBPACK_IMPORTED_MODULE_24__.Label,{htmlFor:"jwt",subtle:!0},"JWT"),_ref3=react__WEBPACK_IMPORTED_MODULE_22___default.a.createElement(lattice_ui_kit__WEBPACK_IMPORTED_MODULE_24__.Label,{htmlFor:"org-id",subtle:!0},"Org ID"),_ref4=react__WEBPACK_IMPORTED_MODULE_22___default.a.createElement(lattice_ui_kit__WEBPACK_IMPORTED_MODULE_24__.Button,{color:"primary",type:"submit"},"Configure"),_ref5=react__WEBPACK_IMPORTED_MODULE_22___default.a.createElement(lattice_ui_kit__WEBPACK_IMPORTED_MODULE_24__.Label,{htmlFor:"person-id",subtle:!0},"Person ID"),_ref6=react__WEBPACK_IMPORTED_MODULE_22___default.a.createElement(lattice_ui_kit__WEBPACK_IMPORTED_MODULE_24__.Button,{color:"primary",type:"submit"},"Fetch Person"),LiveHelplineContainerStory=addSourceDecorator((function(){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_22__.useState)({jwt:"",orgId:"",personId:""}),2),inputData=_useState2[0],setInputs=_useState2[1],jwt=inputData.jwt,orgId=inputData.orgId,personId=inputData.personId,_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_22__.useState)(orgId),2),organizationId=_useState4[0],setOrganization=_useState4[1],_useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_22__.useState)(personId),2),personEKID=_useState6[0],setPerson=_useState6[1],onChange=function(e){setInputs(_objectSpread(_objectSpread({},inputData),{},_defineProperty({},e.target.name,e.target.value.trim())))};return react__WEBPACK_IMPORTED_MODULE_22___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_22___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_22___default.a.createElement(lattice_ui_kit__WEBPACK_IMPORTED_MODULE_24__.Card,null,react__WEBPACK_IMPORTED_MODULE_22___default.a.createElement(lattice_ui_kit__WEBPACK_IMPORTED_MODULE_24__.CardSegment,null,react__WEBPACK_IMPORTED_MODULE_22___default.a.createElement("form",{onSubmit:function onConfigure(e){e.preventDefault(),Object(lattice__WEBPACK_IMPORTED_MODULE_23__.configure)({baseUrl:"production",authToken:jwt}),setOrganization(orgId)}},_ref2,react__WEBPACK_IMPORTED_MODULE_22___default.a.createElement(lattice_ui_kit__WEBPACK_IMPORTED_MODULE_24__.Input,{id:"jwt",name:"jwt",onChange:onChange,value:jwt}),_ref3,react__WEBPACK_IMPORTED_MODULE_22___default.a.createElement(lattice_ui_kit__WEBPACK_IMPORTED_MODULE_24__.Input,{id:"org-id",name:"orgId",onChange:onChange,value:orgId}),_ref4),react__WEBPACK_IMPORTED_MODULE_22___default.a.createElement("form",{onSubmit:function onFetch(e){e.preventDefault(),setPerson(personId)}},_ref5,react__WEBPACK_IMPORTED_MODULE_22___default.a.createElement(lattice_ui_kit__WEBPACK_IMPORTED_MODULE_24__.Input,{id:"person-id",name:"personId",onChange:onChange,value:personId}),_ref6))),react__WEBPACK_IMPORTED_MODULE_22___default.a.createElement(___WEBPACK_IMPORTED_MODULE_25__.b,{root:"/",organizationId:organizationId,personId:personEKID,match:{}}))}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/container.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__});LiveHelplineContainerStory.story={name:"Live Helpline Container"}},1777:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ToStorybook",(function(){return ToStorybook}));__webpack_require__(34),__webpack_require__(57),__webpack_require__(16),__webpack_require__(35);var _ref,_ref2,react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__),luxon__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(60),_core_edm_constants__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8),___WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(67);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}__webpack_require__(76).withSource;var addSourceDecorator=__webpack_require__(76).addSource,DATE_TIME=_core_edm_constants__WEBPACK_IMPORTED_MODULE_6__.b.DATE_TIME,NAME=_core_edm_constants__WEBPACK_IMPORTED_MODULE_6__.b.NAME,ID=_core_edm_constants__WEBPACK_IMPORTED_MODULE_6__.b.ID;__webpack_exports__.default={parameters:{storySource:{source:"import React from 'react';\n\nimport { DateTime } from 'luxon';\n\nimport { PropertyTypes } from '../../../core/edm/constants';\nimport { SurveyHistory } from '..';\n\nconst {\n  DATE_TIME,\n  NAME,\n  ID,\n} = PropertyTypes;\n\nexport default {\n  title: 'Survey History',\n  component: SurveyHistory,\n};\n\nconst surveys = [\n  {\n    [NAME]: ['Social Needs Survey'],\n    [DATE_TIME]: [DateTime.local().toString()],\n    [ID]: [0],\n  },\n  {\n    [NAME]: ['Social Needs Survey'],\n    [DATE_TIME]: [DateTime.local().plus({ days: 1 }).toString()],\n    [ID]: [1],\n  }\n];\n\nexport const ToStorybook = () => (\n  <SurveyHistory surveys={surveys} />\n);\n\nToStorybook.story = {\n  name: 'Survey History'\n};\n",locationsMap:{"survey-history--to-storybook":{startLoc:{col:27,line:32},endLoc:{col:1,line:34},startBody:{col:27,line:32},endBody:{col:1,line:34}}}}},title:"Survey History",component:___WEBPACK_IMPORTED_MODULE_7__.g};var surveys=[(_ref={},_defineProperty(_ref,NAME,["Social Needs Survey"]),_defineProperty(_ref,DATE_TIME,[luxon__WEBPACK_IMPORTED_MODULE_5__.DateTime.local().toString()]),_defineProperty(_ref,ID,[0]),_ref),(_ref2={},_defineProperty(_ref2,NAME,["Social Needs Survey"]),_defineProperty(_ref2,DATE_TIME,[luxon__WEBPACK_IMPORTED_MODULE_5__.DateTime.local().plus({days:1}).toString()]),_defineProperty(_ref2,ID,[1]),_ref2)],_ref3=react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(___WEBPACK_IMPORTED_MODULE_7__.g,{surveys:surveys}),ToStorybook=addSourceDecorator((function(){return _ref3}),{__STORY__:"import React from 'react';\n\nimport { DateTime } from 'luxon';\n\nimport { PropertyTypes } from '../../../core/edm/constants';\nimport { SurveyHistory } from '..';\n\nconst {\n  DATE_TIME,\n  NAME,\n  ID,\n} = PropertyTypes;\n\nexport default {\n  title: 'Survey History',\n  component: SurveyHistory,\n};\n\nconst surveys = [\n  {\n    [NAME]: ['Social Needs Survey'],\n    [DATE_TIME]: [DateTime.local().toString()],\n    [ID]: [0],\n  },\n  {\n    [NAME]: ['Social Needs Survey'],\n    [DATE_TIME]: [DateTime.local().plus({ days: 1 }).toString()],\n    [ID]: [1],\n  }\n];\n\nexport const ToStorybook = () => (\n  <SurveyHistory surveys={surveys} />\n);\n\nToStorybook.story = {\n  name: 'Survey History'\n};\n",__ADDS_MAP__:{"survey-history--to-storybook":{startLoc:{col:27,line:32},endLoc:{col:1,line:34},startBody:{col:27,line:32},endBody:{col:1,line:34}}},__MAIN_FILE_LOCATION__:"/history.stories.js",__MODULE_DEPENDENCIES__:[],__LOCAL_DEPENDENCIES__:{},__SOURCE_PREFIX__:"/home/runner/work/lattice-helpline-center/lattice-helpline-center/src/containers/profile/stories",__IDS_TO_FRAMEWORKS__:{}});ToStorybook.story={name:"Survey History"}},1778:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ToStorybook",(function(){return ToStorybook}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),___WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(67),addSourceDecorator=(__webpack_require__(76).withSource,__webpack_require__(76).addSource);__webpack_exports__.default={parameters:{storySource:{source:"import React from 'react';\n\nimport { GreatestNeeds } from '..';\n\nexport default {\n  title: 'Greatest Needs',\n  component: GreatestNeeds,\n};\n\nexport const ToStorybook = () => (\n  <GreatestNeeds needs={['Food', 'Employment', 'Childcare']} />\n);\n\nToStorybook.story = {\n  name: 'Greatest Needs'\n};\n",locationsMap:{"greatest-needs--to-storybook":{startLoc:{col:27,line:10},endLoc:{col:1,line:12},startBody:{col:27,line:10},endBody:{col:1,line:12}}}}},title:"Greatest Needs",component:___WEBPACK_IMPORTED_MODULE_1__.a};var ToStorybook=addSourceDecorator((function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(___WEBPACK_IMPORTED_MODULE_1__.a,{needs:["Food","Employment","Childcare"]})}),{__STORY__:"import React from 'react';\n\nimport { GreatestNeeds } from '..';\n\nexport default {\n  title: 'Greatest Needs',\n  component: GreatestNeeds,\n};\n\nexport const ToStorybook = () => (\n  <GreatestNeeds needs={['Food', 'Employment', 'Childcare']} />\n);\n\nToStorybook.story = {\n  name: 'Greatest Needs'\n};\n",__ADDS_MAP__:{"greatest-needs--to-storybook":{startLoc:{col:27,line:10},endLoc:{col:1,line:12},startBody:{col:27,line:10},endBody:{col:1,line:12}}},__MAIN_FILE_LOCATION__:"/needs.stories.js",__MODULE_DEPENDENCIES__:[],__LOCAL_DEPENDENCIES__:{},__SOURCE_PREFIX__:"/home/runner/work/lattice-helpline-center/lattice-helpline-center/src/containers/profile/stories",__IDS_TO_FRAMEWORKS__:{}});ToStorybook.story={name:"Greatest Needs"}},1779:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ToStorybook",(function(){return ToStorybook}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),___WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(67),addSourceDecorator=(__webpack_require__(76).withSource,__webpack_require__(76).addSource);__webpack_exports__.default={parameters:{storySource:{source:"import React from 'react';\n\nimport { ProfileCard } from '..';\n\nexport default {\n  title: 'Profile Card',\n  component: ProfileCard,\n};\n\nexport const ToStorybook = () => (\n  <ProfileCard />\n);\n\nToStorybook.story = {\n  name: 'Profile Card'\n};\n",locationsMap:{"profile-card--to-storybook":{startLoc:{col:27,line:10},endLoc:{col:1,line:12},startBody:{col:27,line:10},endBody:{col:1,line:12}}}}},title:"Profile Card",component:___WEBPACK_IMPORTED_MODULE_1__.d};var _ref=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(___WEBPACK_IMPORTED_MODULE_1__.d,null),ToStorybook=addSourceDecorator((function(){return _ref}),{__STORY__:"import React from 'react';\n\nimport { ProfileCard } from '..';\n\nexport default {\n  title: 'Profile Card',\n  component: ProfileCard,\n};\n\nexport const ToStorybook = () => (\n  <ProfileCard />\n);\n\nToStorybook.story = {\n  name: 'Profile Card'\n};\n",__ADDS_MAP__:{"profile-card--to-storybook":{startLoc:{col:27,line:10},endLoc:{col:1,line:12},startBody:{col:27,line:10},endBody:{col:1,line:12}}},__MAIN_FILE_LOCATION__:"/profile.stories.js",__MODULE_DEPENDENCIES__:[],__LOCAL_DEPENDENCIES__:{},__SOURCE_PREFIX__:"/home/runner/work/lattice-helpline-center/lattice-helpline-center/src/containers/profile/stories",__IDS_TO_FRAMEWORKS__:{}});ToStorybook.story={name:"Profile Card"}},1780:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ToStorybook",(function(){return ToStorybook}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),___WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(67),addSourceDecorator=(__webpack_require__(76).withSource,__webpack_require__(76).addSource);__webpack_exports__.default={parameters:{storySource:{source:"// @flow\nimport React from 'react';\n\nimport { SocialNeedsSurvey } from '..';\n\nexport default {\n  title: 'Social Needs Survey',\n  component: SocialNeedsSurvey,\n};\n\nexport const ToStorybook = () => (\n  <SocialNeedsSurvey />\n);\n\nToStorybook.story = {\n  name: 'Social Needs Survey'\n};\n",locationsMap:{"social-needs-survey--to-storybook":{startLoc:{col:27,line:11},endLoc:{col:1,line:13},startBody:{col:27,line:11},endBody:{col:1,line:13}}}}},title:"Social Needs Survey",component:___WEBPACK_IMPORTED_MODULE_1__.f};var _ref=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(___WEBPACK_IMPORTED_MODULE_1__.f,null),ToStorybook=addSourceDecorator((function(){return _ref}),{__STORY__:"// @flow\nimport React from 'react';\n\nimport { SocialNeedsSurvey } from '..';\n\nexport default {\n  title: 'Social Needs Survey',\n  component: SocialNeedsSurvey,\n};\n\nexport const ToStorybook = () => (\n  <SocialNeedsSurvey />\n);\n\nToStorybook.story = {\n  name: 'Social Needs Survey'\n};\n",__ADDS_MAP__:{"social-needs-survey--to-storybook":{startLoc:{col:27,line:11},endLoc:{col:1,line:13},startBody:{col:27,line:11},endBody:{col:1,line:13}}},__MAIN_FILE_LOCATION__:"/survey.stories.js",__MODULE_DEPENDENCIES__:[],__LOCAL_DEPENDENCIES__:{},__SOURCE_PREFIX__:"/home/runner/work/lattice-helpline-center/lattice-helpline-center/src/containers/profile/stories",__IDS_TO_FRAMEWORKS__:{}});ToStorybook.story={name:"Social Needs Survey"}},1783:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"DownloadsContainerStory",(function(){return DownloadsContainerStory})),__webpack_require__.d(__webpack_exports__,"LiveDownloadsContainerStory",(function(){return LiveDownloadsContainerStory}));__webpack_require__(9),__webpack_require__(20),__webpack_require__(31),__webpack_require__(83),__webpack_require__(54),__webpack_require__(55),__webpack_require__(33),__webpack_require__(24),__webpack_require__(28),__webpack_require__(34),__webpack_require__(26),__webpack_require__(47),__webpack_require__(57),__webpack_require__(641),__webpack_require__(642),__webpack_require__(21),__webpack_require__(16),__webpack_require__(35),__webpack_require__(25),__webpack_require__(172),__webpack_require__(56),__webpack_require__(27);var react=__webpack_require__(1),react_default=__webpack_require__.n(react),build=__webpack_require__(40),lattice_ui_kit_build=__webpack_require__(5),styled_components_browser_esm=(__webpack_require__(44),__webpack_require__(102),__webpack_require__(153),__webpack_require__(50),__webpack_require__(13)),immutable_es=__webpack_require__(3),lattice_utils_build=__webpack_require__(17),luxon=__webpack_require__(60),redux_reqseq_build=__webpack_require__(7),index_es=__webpack_require__(227),react_fontawesome_index_es=__webpack_require__(226),redux=__webpack_require__(23),DownloadsActions=__webpack_require__(46),GREEN=lattice_ui_kit_build.Colors.GREEN,RED=lattice_ui_kit_build.Colors.RED,SuccessIcon=function(){return react_default.a.createElement(react_fontawesome_index_es.a,{icon:index_es.b,color:GREEN.G300,size:"3x"})};SuccessIcon.displayName="SuccessIcon";var ErrorIcon=function(){return react_default.a.createElement(react_fontawesome_index_es.a,{icon:index_es.c,color:RED.R300,size:"3x"})};ErrorIcon.displayName="ErrorIcon";var DownloadStatus_ref=react_default.a.createElement(lattice_ui_kit_build.Spinner,{size:"3x"}),_ref2=react_default.a.createElement(lattice_ui_kit_build.IconSplash,{caption:"Success!",icon:SuccessIcon,size:"3x"}),_ref3=react_default.a.createElement(lattice_ui_kit_build.IconSplash,{caption:"An error has occurred. Please try again or contact support",icon:ErrorIcon,size:"3x"}),DownloadStatus=function(){switch(Object(redux.d)((function(state){return state.getIn(["downloads",DownloadsActions.a,"requestState"])}))){case redux_reqseq_build.RequestStates.PENDING:return react_default.a.createElement(lattice_ui_kit_build.IconSplash,{caption:"Generating CSV...",icon:function icon(){return DownloadStatus_ref}});case redux_reqseq_build.RequestStates.SUCCESS:return _ref2;case redux_reqseq_build.RequestStates.FAILURE:return _ref3;default:return null}};DownloadStatus.__docgenInfo={description:"",methods:[],displayName:"DownloadStatus"};var components_DownloadStatus=DownloadStatus;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/downloads/src/components/DownloadStatus.js"]={name:"DownloadStatus",docgenInfo:DownloadStatus.__docgenInfo,path:"src/containers/downloads/src/components/DownloadStatus.js"});var ReduxActions=__webpack_require__(114),AppActions=__webpack_require__(61),styled=__webpack_require__(84);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _templateObject2(){var data=_taggedTemplateLiteral(["\n    grid-auto-flow: row;\n    grid-template-columns: none;\n  "]);return _templateObject2=function(){return data},data}function _templateObject(){var data=_taggedTemplateLiteral(["\n  display: grid;\n  grid-template-columns: 1fr 1fr min-content;\n  grid-gap: 10px;\n  margin-bottom: 32px;\n  ","\n"]);return _templateObject=function(){return data},data}function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var isValidUUID=lattice_utils_build.ValidationUtils.isValidUUID,media=lattice_ui_kit_build.StyleUtils.media,InputGrid=styled_components_browser_esm.default.div(_templateObject(),media.phone(_templateObject2())),Downloads_ref2=react_default.a.createElement(styled.c,null,react_default.a.createElement(lattice_ui_kit_build.Spinner,{size:"3x"})),Downloads_ref3=react_default.a.createElement(lattice_ui_kit_build.Typography,{variant:"h1"},"Downloads"),_ref4=react_default.a.createElement(lattice_ui_kit_build.Typography,{color:"textSecondary",gutterBottom:!0,variant:"subtitle1"},"Export all survey submissions within a provided date range to a CSV file."),_ref5=react_default.a.createElement(lattice_ui_kit_build.Label,{htmlFor:"date-start"},"Date Start"),_ref6=react_default.a.createElement(lattice_ui_kit_build.Label,{htmlFor:"date-end"},"Date End"),_ref7=react_default.a.createElement(lattice_ui_kit_build.Label,{stealth:!0},"Submit"),_ref8=react_default.a.createElement(components_DownloadStatus,null),Downloads=function(_ref){var match=_ref.match,organizationId=_ref.organizationId,root=_ref.root,dispatch=Object(redux.c)(),_useState2=_slicedToArray(Object(react.useState)(),2),dateEnd=_useState2[0],setDateEnd=_useState2[1],_useState4=_slicedToArray(Object(react.useState)(),2),dateStart=_useState4[0],setDateStart=_useState4[1];Object(react.useEffect)((function(){isValidUUID(organizationId)&&dispatch(Object(AppActions.c)({match:match,organizationId:organizationId,root:root}))}),[dispatch,organizationId,root]),Object(react.useEffect)((function(){return function(){return dispatch(Object(ReduxActions.b)([DownloadsActions.a]))}}));var initializeState=Object(redux.d)((function(state){return state.getIn(["app",AppActions.a,"requestState"])}));if(initializeState===redux_reqseq_build.RequestStates.PENDING||initializeState===redux_reqseq_build.RequestStates.STANDBY)return Downloads_ref2;var today=luxon.DateTime.local().toLocaleString(luxon.DateTime.DATE_SHORT);return react_default.a.createElement("div",null,Downloads_ref3,_ref4,react_default.a.createElement("form",null,react_default.a.createElement(InputGrid,null,react_default.a.createElement("div",null,_ref5,react_default.a.createElement(lattice_ui_kit_build.DatePicker,{id:"date-start",maxDate:today,onChange:setDateStart})),react_default.a.createElement("div",null,_ref6,react_default.a.createElement(lattice_ui_kit_build.DatePicker,{id:"date-end",maxDate:today,onChange:setDateEnd})),react_default.a.createElement("div",null,_ref7,react_default.a.createElement(lattice_ui_kit_build.Button,{type:"submit",color:"primary",disabled:!dateStart||!dateEnd,onClick:function onSearch(e){e.preventDefault();var dateRange=Object(immutable_es.Map)({dateEnd:dateEnd,dateStart:dateStart});dateRange.every((function(datetime){return luxon.DateTime.fromISO(datetime).isValid}))&&dispatch(Object(DownloadsActions.d)(dateRange))},fullWidth:!0},"Export")))),_ref8)};Downloads.displayName="Downloads",Downloads.__docgenInfo={description:"",methods:[],displayName:"Downloads",props:{match:{required:!0,flowType:{name:"Match"},description:""},organizationId:{required:!0,flowType:{name:"UUID"},description:""},root:{required:!0,flowType:{name:"string"},description:""}}};var components_Downloads=Downloads;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/downloads/src/components/Downloads.js"]={name:"Downloads",docgenInfo:Downloads.__docgenInfo,path:"src/containers/downloads/src/components/Downloads.js"});var profile=__webpack_require__(67),DownloadsContainer=function(props){var match=props.match,organizationId=props.organizationId,root=props.root;return react_default.a.createElement(profile.c,null,react_default.a.createElement(components_Downloads,{match:match,organizationId:organizationId,root:root}))};DownloadsContainer.displayName="DownloadsContainer",DownloadsContainer.__docgenInfo={description:"",methods:[],displayName:"DownloadsContainer",props:{match:{required:!0,flowType:{name:"Match"},description:""},organizationId:{required:!0,flowType:{name:"UUID"},description:""},root:{required:!0,flowType:{name:"string"},description:""}}};var components_DownloadsContainer=DownloadsContainer;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/downloads/src/components/DownloadsContainer.js"]={name:"DownloadsContainer",docgenInfo:DownloadsContainer.__docgenInfo,path:"src/containers/downloads/src/components/DownloadsContainer.js"});var downloads=components_DownloadsContainer;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function downloads_stories_slicedToArray(arr,i){return function downloads_stories_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function downloads_stories_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function downloads_stories_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return downloads_stories_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return downloads_stories_arrayLikeToArray(o,minLen)}(arr,i)||function downloads_stories_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function downloads_stories_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_require__(76).withSource;var addSourceDecorator=__webpack_require__(76).addSource,__SOURCE_PREFIX__="/home/runner/work/lattice-helpline-center/lattice-helpline-center/src/containers/downloads/stories",__STORY__="import React, { useState } from 'react';\n\nimport { configure } from 'lattice';\nimport {\n  Button,\n  Card,\n  CardSegment,\n  Input,\n  Label,\n} from 'lattice-ui-kit';\n\nimport DownloadsContainer from '..';\n\nexport default {\n  title: 'Downloads Container',\n  component: DownloadsContainer,\n};\n\nexport const DownloadsContainerStory = () => (\n  <DownloadsContainer />\n);\n\nDownloadsContainerStory.story = {\n  name: 'Downloads Container'\n};\n\nexport const LiveDownloadsContainerStory = () => {\n  const [inputData, setInputs] = useState({\n    jwt: '',\n    orgId: '',\n  });\n  const { jwt, orgId } = inputData;\n  const [organizationId, setOrganization] = useState(orgId);\n\n  const onConfigure = (e) => {\n    e.preventDefault();\n    configure({\n      baseUrl: 'production',\n      authToken: jwt\n    });\n    setOrganization(orgId);\n  };\n\n  const onChange = (e) => {\n    setInputs({\n      ...inputData,\n      [e.target.name]: e.target.value.trim()\n    });\n  };\n\n  return (\n    <>\n      <Card>\n        <CardSegment>\n          <form onSubmit={onConfigure}>\n            <Label htmlFor=\"jwt\" subtle>JWT</Label>\n            <Input id=\"jwt\" name=\"jwt\" onChange={onChange} value={jwt} />\n            <Label htmlFor=\"org-id\" subtle>Org ID</Label>\n            <Input id=\"org-id\" name=\"orgId\" onChange={onChange} value={orgId} />\n            <Button color=\"primary\" type=\"submit\">Configure</Button>\n          </form>\n        </CardSegment>\n      </Card>\n      <DownloadsContainer\n          root=\"/\"\n          organizationId={organizationId}\n          match={{}} />\n    </>\n  );\n};\n\nLiveDownloadsContainerStory.story = {\n  name: 'Live Downloads Container'\n};\n",__ADDS_MAP__={"downloads-container--downloads-container-story":{startLoc:{col:39,line:19},endLoc:{col:1,line:21},startBody:{col:39,line:19},endBody:{col:1,line:21}},"downloads-container--live-downloads-container-story":{startLoc:{col:43,line:27},endLoc:{col:1,line:70},startBody:{col:43,line:27},endBody:{col:1,line:70}}},__MODULE_DEPENDENCIES__=[],__LOCAL_DEPENDENCIES__={},__IDS_TO_FRAMEWORKS__={},downloads_stories_ref=(__webpack_exports__.default={parameters:{storySource:{source:"import React, { useState } from 'react';\n\nimport { configure } from 'lattice';\nimport {\n  Button,\n  Card,\n  CardSegment,\n  Input,\n  Label,\n} from 'lattice-ui-kit';\n\nimport DownloadsContainer from '..';\n\nexport default {\n  title: 'Downloads Container',\n  component: DownloadsContainer,\n};\n\nexport const DownloadsContainerStory = () => (\n  <DownloadsContainer />\n);\n\nDownloadsContainerStory.story = {\n  name: 'Downloads Container'\n};\n\nexport const LiveDownloadsContainerStory = () => {\n  const [inputData, setInputs] = useState({\n    jwt: '',\n    orgId: '',\n  });\n  const { jwt, orgId } = inputData;\n  const [organizationId, setOrganization] = useState(orgId);\n\n  const onConfigure = (e) => {\n    e.preventDefault();\n    configure({\n      baseUrl: 'production',\n      authToken: jwt\n    });\n    setOrganization(orgId);\n  };\n\n  const onChange = (e) => {\n    setInputs({\n      ...inputData,\n      [e.target.name]: e.target.value.trim()\n    });\n  };\n\n  return (\n    <>\n      <Card>\n        <CardSegment>\n          <form onSubmit={onConfigure}>\n            <Label htmlFor=\"jwt\" subtle>JWT</Label>\n            <Input id=\"jwt\" name=\"jwt\" onChange={onChange} value={jwt} />\n            <Label htmlFor=\"org-id\" subtle>Org ID</Label>\n            <Input id=\"org-id\" name=\"orgId\" onChange={onChange} value={orgId} />\n            <Button color=\"primary\" type=\"submit\">Configure</Button>\n          </form>\n        </CardSegment>\n      </Card>\n      <DownloadsContainer\n          root=\"/\"\n          organizationId={organizationId}\n          match={{}} />\n    </>\n  );\n};\n\nLiveDownloadsContainerStory.story = {\n  name: 'Live Downloads Container'\n};\n",locationsMap:{"downloads-container--downloads-container-story":{startLoc:{col:39,line:19},endLoc:{col:1,line:21},startBody:{col:39,line:19},endBody:{col:1,line:21}},"downloads-container--live-downloads-container-story":{startLoc:{col:43,line:27},endLoc:{col:1,line:70},startBody:{col:43,line:27},endBody:{col:1,line:70}}}}},title:"Downloads Container",component:downloads},react_default.a.createElement(downloads,null)),DownloadsContainerStory=addSourceDecorator((function(){return downloads_stories_ref}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/downloads.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__});DownloadsContainerStory.story={name:"Downloads Container"};var downloads_stories_ref2=react_default.a.createElement(lattice_ui_kit_build.Label,{htmlFor:"jwt",subtle:!0},"JWT"),downloads_stories_ref3=react_default.a.createElement(lattice_ui_kit_build.Label,{htmlFor:"org-id",subtle:!0},"Org ID"),downloads_stories_ref4=react_default.a.createElement(lattice_ui_kit_build.Button,{color:"primary",type:"submit"},"Configure"),LiveDownloadsContainerStory=addSourceDecorator((function(){var _useState2=downloads_stories_slicedToArray(Object(react.useState)({jwt:"",orgId:""}),2),inputData=_useState2[0],setInputs=_useState2[1],jwt=inputData.jwt,orgId=inputData.orgId,_useState4=downloads_stories_slicedToArray(Object(react.useState)(orgId),2),organizationId=_useState4[0],setOrganization=_useState4[1],onChange=function(e){setInputs(_objectSpread(_objectSpread({},inputData),{},_defineProperty({},e.target.name,e.target.value.trim())))};return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(lattice_ui_kit_build.Card,null,react_default.a.createElement(lattice_ui_kit_build.CardSegment,null,react_default.a.createElement("form",{onSubmit:function onConfigure(e){e.preventDefault(),Object(build.configure)({baseUrl:"production",authToken:jwt}),setOrganization(orgId)}},downloads_stories_ref2,react_default.a.createElement(lattice_ui_kit_build.Input,{id:"jwt",name:"jwt",onChange:onChange,value:jwt}),downloads_stories_ref3,react_default.a.createElement(lattice_ui_kit_build.Input,{id:"org-id",name:"orgId",onChange:onChange,value:orgId}),downloads_stories_ref4))),react_default.a.createElement(downloads,{root:"/",organizationId:organizationId,match:{}}))}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/downloads.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__});LiveDownloadsContainerStory.story={name:"Live Downloads Container"}},1784:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ToStorybook",(function(){return ToStorybook}));var react=__webpack_require__(1),react_default=__webpack_require__.n(react),luxon=(__webpack_require__(34),__webpack_require__(57),__webpack_require__(16),__webpack_require__(35),__webpack_require__(60)),constants=__webpack_require__(8);constants.b.DATE_TIME,constants.b.NAME,constants.b.ID;var createMockSufficiencyData=function(){for(var bars=0<arguments.length&&void 0!==arguments[0]?arguments[0]:6,data=[],i=0;i<bars;i+=1)data.push({y:Math.round(75*Math.random()),x:luxon.DateTime.local().minus({months:bars-i-1}).toLocaleString(luxon.DateTime.DATE_SHORT)});return data},profile=__webpack_require__(67),addSourceDecorator=(__webpack_require__(76).withSource,__webpack_require__(76).addSource),ToStorybook=(__webpack_exports__.default={parameters:{storySource:{source:"// @flow\nimport React from 'react';\n\nimport { createMockSufficiencyData } from './utils';\n\nimport { SelfSufficiencyMatrix } from '..';\n\nexport default {\n  title: 'Self-Sufficiency Matrix',\n  component: SelfSufficiencyMatrix,\n};\n\nexport const ToStorybook = () => (\n  <SelfSufficiencyMatrix data={createMockSufficiencyData()} />\n);\n\nToStorybook.story = {\n  name: 'Self-Sufficiency Matrix'\n};\n",locationsMap:{"self-sufficiency-matrix--to-storybook":{startLoc:{col:27,line:13},endLoc:{col:1,line:15},startBody:{col:27,line:13},endBody:{col:1,line:15}}}}},title:"Self-Sufficiency Matrix",component:profile.e},addSourceDecorator((function(){return react_default.a.createElement(profile.e,{data:createMockSufficiencyData()})}),{__STORY__:"// @flow\nimport React from 'react';\n\nimport { createMockSufficiencyData } from './utils';\n\nimport { SelfSufficiencyMatrix } from '..';\n\nexport default {\n  title: 'Self-Sufficiency Matrix',\n  component: SelfSufficiencyMatrix,\n};\n\nexport const ToStorybook = () => (\n  <SelfSufficiencyMatrix data={createMockSufficiencyData()} />\n);\n\nToStorybook.story = {\n  name: 'Self-Sufficiency Matrix'\n};\n",__ADDS_MAP__:{"self-sufficiency-matrix--to-storybook":{startLoc:{col:27,line:13},endLoc:{col:1,line:15},startBody:{col:27,line:13},endBody:{col:1,line:15}}},__MAIN_FILE_LOCATION__:"/sufficiency.stories.js",__MODULE_DEPENDENCIES__:[],__LOCAL_DEPENDENCIES__:{},__SOURCE_PREFIX__:"/home/runner/work/lattice-helpline-center/lattice-helpline-center/src/containers/profile/stories",__IDS_TO_FRAMEWORKS__:{}}));ToStorybook.story={name:"Self-Sufficiency Matrix"}},180:function(module,__webpack_exports__,__webpack_require__){"use strict";var lattice__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(40),FQN=lattice__WEBPACK_IMPORTED_MODULE_0__.Models.FQN,PROPERTY_TYPE_FQNS={CODE:FQN.of("ol.code"),DATE_TIME:FQN.of("ol.datetime"),DOB:FQN.of("nc.PersonBirthDate"),FULL_NAME:FQN.of("general.fullname"),GIVEN_NAME:FQN.of("nc.PersonGivenName"),ID:FQN.of("ol.id"),NAME:FQN.of("ol.name"),SCORE_CATEGORY:FQN.of("ol.scorecategory"),SCORE_VALUE:FQN.of("ol.scorevalue"),SSN:FQN.of("general.ssnlast4"),SURNAME:FQN.of("nc.PersonSurName"),TITLE:FQN.of("ol.title"),VALUES:FQN.of("ol.values")};__webpack_exports__.a=PROPERTY_TYPE_FQNS},181:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return GO_TO_ROOT})),__webpack_require__.d(__webpack_exports__,"b",(function(){return GO_TO_ROUTE})),__webpack_require__.d(__webpack_exports__,"c",(function(){return routingFailure}));__webpack_require__(291);var GO_TO_ROOT="GO_TO_ROOT";var GO_TO_ROUTE="GO_TO_ROUTE";function routingFailure(errorMessage,route){return{route:route,error:errorMessage,type:"ROUTING_FAILURE"}}},224:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return goToRootWatcher})),__webpack_require__.d(__webpack_exports__,"b",(function(){return goToRouteWatcher}));__webpack_require__(401),__webpack_require__(98);var redux_saga_effects_esm=__webpack_require__(2),actions=__webpack_require__(80),build=__webpack_require__(17),RoutingActions=__webpack_require__(181),Errors=__webpack_require__(74),_marked=regeneratorRuntime.mark(goToRouteWorker),_marked2=regeneratorRuntime.mark(goToRouteWatcher),_marked3=regeneratorRuntime.mark(goToRootWatcher),LOG=new build.Logger("RoutingSagas"),ERR_INVALID_ROUTE=Errors.ERR_INVALID_ROUTE;function goToRouteWorker(action){var route,_action$state,state;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(route=action.route,_action$state=action.state,state=void 0===_action$state?{}:_action$state,null!=route&&route.startsWith("/",0)){_context.next=6;break}return LOG.error(ERR_INVALID_ROUTE,route),_context.next=5,Object(redux_saga_effects_esm.put)(Object(RoutingActions.c)(ERR_INVALID_ROUTE,route));case 5:return _context.abrupt("return");case 6:return _context.next=8,Object(redux_saga_effects_esm.put)(Object(actions.g)({state:JSON.stringify(state),pathname:route}));case 8:case"end":return _context.stop()}}),_marked)}function goToRouteWatcher(){return regeneratorRuntime.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,Object(redux_saga_effects_esm.takeEvery)(RoutingActions.b,goToRouteWorker);case 2:case"end":return _context2.stop()}}),_marked2)}function goToRootWatcher(){return regeneratorRuntime.wrap((function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,Object(redux_saga_effects_esm.takeEvery)(RoutingActions.a,goToRouteWorker);case 2:case"end":return _context3.stop()}}),_marked3)}},23:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return helplineStore})),__webpack_require__.d(__webpack_exports__,"a",(function(){return helplineContext})),__webpack_require__.d(__webpack_exports__,"c",(function(){return useDispatch})),__webpack_require__.d(__webpack_exports__,"d",(function(){return useSelector}));var react=__webpack_require__(1),react_default=__webpack_require__.n(react),es=__webpack_require__(78),immutable_es=__webpack_require__(3),redux_saga_core_esm=__webpack_require__(704),immutable=__webpack_require__(179),redux=__webpack_require__(128),dist=(__webpack_require__(57),__webpack_require__(690)),REDUCERS_APP="app",REDUCERS_DATA="data",REDUCERS_DOWNLOADS="downloads",REDUCERS_EDM="edm",REDUCERS_PROFILE="profile",REDUCERS_ROUTER="router",build=(__webpack_require__(9),__webpack_require__(20),__webpack_require__(31),__webpack_require__(37),__webpack_require__(55),__webpack_require__(33),__webpack_require__(24),__webpack_require__(28),__webpack_require__(34),__webpack_require__(26),__webpack_require__(16),__webpack_require__(35),__webpack_require__(25),__webpack_require__(27),__webpack_require__(17)),redux_reqseq_build=__webpack_require__(7),DownloadsActions=__webpack_require__(46),ReduxActions=__webpack_require__(114);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var REQUEST_STATE=build.ReduxConstants.REQUEST_STATE,INITIAL_STATE=Object(immutable_es.fromJS)(_defineProperty({},DownloadsActions.a,_defineProperty({},REQUEST_STATE,redux_reqseq_build.RequestStates.STANDBY)));function downloadsReducer(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:INITIAL_STATE,action=1<arguments.length?arguments[1]:void 0;switch(action.type){case ReduxActions.a:var path=action.path;return path&&state.hasIn(path)?state.setIn([].concat(_toConsumableArray(path),[REQUEST_STATE]),redux_reqseq_build.RequestStates.STANDBY):state;case DownloadsActions.d.case(action.type):return DownloadsActions.d.reducer(state,action,{REQUEST:function REQUEST(){return INITIAL_STATE.setIn([DownloadsActions.a,REQUEST_STATE],redux_reqseq_build.RequestStates.PENDING)},SUCCESS:function SUCCESS(){return state.setIn([DownloadsActions.a,REQUEST_STATE],redux_reqseq_build.RequestStates.SUCCESS)},FAILURE:function FAILURE(){return state.setIn([DownloadsActions.a,REQUEST_STATE],redux_reqseq_build.RequestStates.FAILURE)}});default:return state}}var ProfileReducer_fromJS,ProfileActions=__webpack_require__(6),constants=__webpack_require__(15);function ProfileReducer_toConsumableArray(arr){return function ProfileReducer_arrayWithoutHoles(arr){if(Array.isArray(arr))return ProfileReducer_arrayLikeToArray(arr)}(arr)||function ProfileReducer_iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function ProfileReducer_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return ProfileReducer_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ProfileReducer_arrayLikeToArray(o,minLen)}(arr)||function ProfileReducer_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ProfileReducer_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ProfileReducer_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var ProfileReducer_REQUEST_STATE=build.ReduxConstants.REQUEST_STATE,ProfileReducer_INITIAL_STATE=Object(immutable_es.fromJS)((ProfileReducer_defineProperty(ProfileReducer_fromJS={},ProfileActions.a,ProfileReducer_defineProperty({},ProfileReducer_REQUEST_STATE,redux_reqseq_build.RequestStates.STANDBY)),ProfileReducer_defineProperty(ProfileReducer_fromJS,ProfileActions.d,ProfileReducer_defineProperty({},ProfileReducer_REQUEST_STATE,redux_reqseq_build.RequestStates.STANDBY)),ProfileReducer_defineProperty(ProfileReducer_fromJS,ProfileActions.j,ProfileReducer_defineProperty({},ProfileReducer_REQUEST_STATE,redux_reqseq_build.RequestStates.STANDBY)),ProfileReducer_defineProperty(ProfileReducer_fromJS,constants.a,Object(immutable_es.Map)()),ProfileReducer_defineProperty(ProfileReducer_fromJS,constants.c,Object(immutable_es.List)()),ProfileReducer_defineProperty(ProfileReducer_fromJS,constants.d,Object(immutable_es.Map)()),ProfileReducer_defineProperty(ProfileReducer_fromJS,constants.e,Object(immutable_es.Map)()),ProfileReducer_defineProperty(ProfileReducer_fromJS,constants.h,Object(immutable_es.Map)()),ProfileReducer_defineProperty(ProfileReducer_fromJS,constants.i,Object(immutable_es.Map)()),ProfileReducer_defineProperty(ProfileReducer_fromJS,constants.j,Object(immutable_es.List)()),ProfileReducer_defineProperty(ProfileReducer_fromJS,constants.k,Object(immutable_es.Map)()),ProfileReducer_defineProperty(ProfileReducer_fromJS,constants.l,Object(immutable_es.Map)()),ProfileReducer_defineProperty(ProfileReducer_fromJS,constants.m,Object(immutable_es.List)()),ProfileReducer_fromJS));function profileReducer(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:ProfileReducer_INITIAL_STATE,action=1<arguments.length?arguments[1]:void 0;switch(action.type){case ReduxActions.a:var path=action.path;return path&&state.hasIn(path)?state.setIn([].concat(ProfileReducer_toConsumableArray(path),[ProfileReducer_REQUEST_STATE]),redux_reqseq_build.RequestStates.STANDBY):state;case ProfileActions.n.case(action.type):return ProfileActions.n.reducer(state,action,{REQUEST:function REQUEST(){return ProfileReducer_INITIAL_STATE.setIn([ProfileActions.d,ProfileReducer_REQUEST_STATE],redux_reqseq_build.RequestStates.PENDING)},SUCCESS:function SUCCESS(){return state.merge(action.value).setIn([ProfileActions.d,ProfileReducer_REQUEST_STATE],redux_reqseq_build.RequestStates.SUCCESS)},FAILURE:function FAILURE(){return state.setIn([ProfileActions.d,ProfileReducer_REQUEST_STATE],redux_reqseq_build.RequestStates.FAILURE)}});case ProfileActions.t.case(action.type):return ProfileActions.t.reducer(state,action,{REQUEST:function REQUEST(){return state.setIn([ProfileActions.j,ProfileReducer_REQUEST_STATE],redux_reqseq_build.RequestStates.PENDING)},SUCCESS:function SUCCESS(){return state.merge(action.value).setIn([ProfileActions.j,ProfileReducer_REQUEST_STATE],redux_reqseq_build.RequestStates.SUCCESS)},FAILURE:function FAILURE(){return state.setIn([ProfileActions.j,ProfileReducer_REQUEST_STATE],redux_reqseq_build.RequestStates.FAILURE)}});case ProfileActions.k.case(action.type):return ProfileActions.k.reducer(state,action,{REQUEST:function REQUEST(){return state.setIn([ProfileActions.a,ProfileReducer_REQUEST_STATE],redux_reqseq_build.RequestStates.PENDING)},SUCCESS:function SUCCESS(){return state.merge(action.value).setIn([ProfileActions.a,ProfileReducer_REQUEST_STATE],redux_reqseq_build.RequestStates.SUCCESS)},FAILURE:function FAILURE(){return state.setIn([ProfileActions.a,ProfileReducer_REQUEST_STATE],redux_reqseq_build.RequestStates.FAILURE)}});default:return state}}var AppReducer_fromJS,AppActions=__webpack_require__(61);function AppReducer_toConsumableArray(arr){return function AppReducer_arrayWithoutHoles(arr){if(Array.isArray(arr))return AppReducer_arrayLikeToArray(arr)}(arr)||function AppReducer_iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function AppReducer_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return AppReducer_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AppReducer_arrayLikeToArray(o,minLen)}(arr)||function AppReducer_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AppReducer_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function AppReducer_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var AppReducer_REQUEST_STATE=build.ReduxConstants.REQUEST_STATE,AppReducer_INITIAL_STATE=Object(immutable_es.fromJS)((AppReducer_defineProperty(AppReducer_fromJS={},AppActions.a,AppReducer_defineProperty({},AppReducer_REQUEST_STATE,redux_reqseq_build.RequestStates.STANDBY)),AppReducer_defineProperty(AppReducer_fromJS,"appConfig",{}),AppReducer_defineProperty(AppReducer_fromJS,"root",""),AppReducer_defineProperty(AppReducer_fromJS,"match",{}),AppReducer_fromJS));function reducer(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:AppReducer_INITIAL_STATE,action=1<arguments.length?arguments[1]:void 0;switch(action.type){case ReduxActions.a:var path=action.path;return path&&state.hasIn(path)?state.setIn([].concat(AppReducer_toConsumableArray(path),[AppReducer_REQUEST_STATE]),redux_reqseq_build.RequestStates.STANDBY):state;case AppActions.b:var value=action.value;return state.set("root",value);case AppActions.c.case(action.type):return AppActions.c.reducer(state,action,{REQUEST:function REQUEST(){return state.setIn([AppActions.a,AppReducer_REQUEST_STATE],redux_reqseq_build.RequestStates.PENDING)},SUCCESS:function SUCCESS(){return state.merge(action.value).setIn([AppActions.a,AppReducer_REQUEST_STATE],redux_reqseq_build.RequestStates.SUCCESS)},FAILURE:function FAILURE(){return state.setIn([AppActions.a,AppReducer_REQUEST_STATE],redux_reqseq_build.RequestStates.FAILURE)}});default:return state}}__webpack_require__(89),__webpack_require__(108),__webpack_require__(221),__webpack_require__(44),__webpack_require__(102),__webpack_require__(98);var redux_saga_effects_esm=__webpack_require__(2),lattice_sagas_build=__webpack_require__(51),Errors=__webpack_require__(74),_marked=regeneratorRuntime.mark(initializeHelplineWatcher),_marked2=regeneratorRuntime.mark(initializeHelplineWorker),isValidUUID=build.ValidationUtils.isValidUUID,isDefined=build.LangUtils.isDefined,getApp=lattice_sagas_build.AppApiActions.getApp,getAppConfigs=lattice_sagas_build.AppApiActions.getAppConfigs,getAppWorker=lattice_sagas_build.AppApiSagas.getAppWorker,getAppConfigsWorker=lattice_sagas_build.AppApiSagas.getAppConfigsWorker,LOG=new build.Logger("AppSagas");function initializeHelplineWatcher(){return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(redux_saga_effects_esm.takeEvery)(AppActions.a,initializeHelplineWorker);case 2:case"end":return _context.stop()}}),_marked)}function initializeHelplineWorker(action){var workerResponse,_action$value,match,organizationId,root,response,app,appConfigsResponse,appConfig;return regeneratorRuntime.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(workerResponse={},_context2.prev=1,_action$value=action.value,match=_action$value.match,organizationId=_action$value.organizationId,root=_action$value.root,isValidUUID(organizationId)){_context2.next=5;break}throw Errors.ERR_ACTION_VALUE_TYPE;case 5:if("string"==typeof root){_context2.next=7;break}throw Errors.ERR_ACTION_VALUE_TYPE;case 7:if(isDefined(match)){_context2.next=9;break}throw Errors.ERR_ACTION_VALUE_TYPE;case 9:return _context2.next=11,Object(redux_saga_effects_esm.put)(AppActions.c.request(action.id));case 11:return _context2.next=13,Object(redux_saga_effects_esm.call)(getAppWorker,getApp("Helpline"));case 13:if(!(response=_context2.sent).error){_context2.next=16;break}throw response.error;case 16:return app=response.data,_context2.next=19,Object(redux_saga_effects_esm.call)(getAppConfigsWorker,getAppConfigs(app.id));case 19:if(!(appConfigsResponse=_context2.sent).error){_context2.next=22;break}throw appConfigsResponse.error;case 22:return appConfig=appConfigsResponse.data.reduce((function(acc,config){var selectedConfig=acc;return config.organization.id===organizationId&&(selectedConfig=config),selectedConfig}),{}),workerResponse.data={appConfig:appConfig,root:root,match:match},_context2.next=26,Object(redux_saga_effects_esm.put)(AppActions.c.success(action.id,workerResponse.data));case 26:_context2.next=34;break;case 28:return _context2.prev=28,_context2.t0=_context2.catch(1),LOG.error(action.type,_context2.t0),workerResponse.error=_context2.t0,_context2.next=34,Object(redux_saga_effects_esm.put)(AppActions.c.failure(action.id,_context2.t0));case 34:return _context2.prev=34,_context2.next=37,Object(redux_saga_effects_esm.put)(AppActions.c.finally(action.id));case 37:return _context2.finish(34);case 38:return _context2.abrupt("return",workerResponse);case 39:case"end":return _context2.stop()}}),_marked2,null,[[1,28,34,38]])}var DataReducer_fromJS,fetchEntitySetData=Object(redux_reqseq_build.newRequestSequence)("FETCH_ENTITY_SET_DATA");__webpack_require__(83),__webpack_require__(54),__webpack_require__(56),new build.Logger("DataSagas"),lattice_sagas_build.DataApiActions.getEntitySetData,lattice_sagas_build.DataApiSagas.getEntitySetDataWorker;function DataReducer_toConsumableArray(arr){return function DataReducer_arrayWithoutHoles(arr){if(Array.isArray(arr))return DataReducer_arrayLikeToArray(arr)}(arr)||function DataReducer_iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function DataReducer_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return DataReducer_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DataReducer_arrayLikeToArray(o,minLen)}(arr)||function DataReducer_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DataReducer_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function DataReducer_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var DataReducer_REQUEST_STATE=build.ReduxConstants.REQUEST_STATE,getEntityKeyId=build.DataUtils.getEntityKeyId,DataReducer_INITIAL_STATE=Object(immutable_es.fromJS)((DataReducer_defineProperty(DataReducer_fromJS={},"FETCH_ENTITY_SET_DATA",Object(immutable_es.Map)()),DataReducer_defineProperty(DataReducer_fromJS,"entitySetDataMap",Object(immutable_es.Map)()),DataReducer_fromJS));function DataReducer_reducer(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:DataReducer_INITIAL_STATE,action=1<arguments.length?arguments[1]:void 0;switch(action.type){case ReduxActions.a:var path=action.path;return path&&state.hasIn(path)?state.setIn([].concat(DataReducer_toConsumableArray(path),[DataReducer_REQUEST_STATE]),redux_reqseq_build.RequestStates.STANDBY):state;case fetchEntitySetData.case(action.type):var seqAction=action;return fetchEntitySetData.reducer(state,seqAction,{REQUEST:function REQUEST(){var entitySetId=seqAction.value.entitySetId;return state.setIn(["FETCH_ENTITY_SET_DATA",entitySetId,DataReducer_REQUEST_STATE],redux_reqseq_build.RequestStates.PENDING).setIn(["FETCH_ENTITY_SET_DATA",seqAction.id],seqAction)},SUCCESS:function SUCCESS(){if(state.hasIn(["FETCH_ENTITY_SET_DATA",seqAction.id])){var _storedSeqAction$valu=state.getIn(["FETCH_ENTITY_SET_DATA",seqAction.id]).value,entityKeyIds=_storedSeqAction$valu.entityKeyIds,entitySetId=_storedSeqAction$valu.entitySetId,entitySetDataMap=state.get("entitySetDataMap");return Object(immutable_es.fromJS)(seqAction.value).forEach((function(entity){var entityKeyId=getEntityKeyId(entity);entityKeyIds.has(entityKeyId)&&(entitySetDataMap=entitySetDataMap.setIn([entitySetId,entityKeyId],entity))})),state.set("entitySetDataMap",entitySetDataMap).setIn(["FETCH_ENTITY_SET_DATA",entitySetId,DataReducer_REQUEST_STATE],redux_reqseq_build.RequestStates.SUCCESS)}return state},FAILURE:function FAILURE(){if(state.hasIn(["FETCH_ENTITY_SET_DATA",seqAction.id])){var entitySetId=state.getIn(["FETCH_ENTITY_SET_DATA",seqAction.id]).value.entitySetId;return state.setIn(["FETCH_ENTITY_SET_DATA",entitySetId,DataReducer_REQUEST_STATE],redux_reqseq_build.RequestStates.FAILURE)}return state},FINALLY:function FINALLY(){return state.deleteIn(["FETCH_ENTITY_SET_DATA",seqAction.id])}});default:return state}}__webpack_require__(245);var EDMReducer_fromJS,lattice_build=__webpack_require__(40),getEntityDataModelTypes=Object(redux_reqseq_build.newRequestSequence)("GET_EDM_TYPES");function EDMReducer_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var EDMReducer_LOG=new build.Logger("EDMReducer"),EntitySetBuilder=(lattice_build.Models.EntitySet,lattice_build.Models.EntitySetBuilder),EntityTypeBuilder=lattice_build.Models.EntityTypeBuilder,PropertyTypeBuilder=lattice_build.Models.PropertyTypeBuilder,GET_ENTITY_SET=lattice_sagas_build.EntitySetsApiActions.GET_ENTITY_SET,GET_ENTITY_SETS=lattice_sagas_build.EntitySetsApiActions.GET_ENTITY_SETS,getEntitySet=lattice_sagas_build.EntitySetsApiActions.getEntitySet,getEntitySets=lattice_sagas_build.EntitySetsApiActions.getEntitySets,EDMReducer_REQUEST_STATE=build.ReduxConstants.REQUEST_STATE,EDMReducer_INITIAL_STATE=Object(immutable_es.fromJS)((EDMReducer_defineProperty(EDMReducer_fromJS={},"GET_EDM_TYPES",EDMReducer_defineProperty({},EDMReducer_REQUEST_STATE,redux_reqseq_build.RequestStates.STANDBY)),EDMReducer_defineProperty(EDMReducer_fromJS,"entitySets",Object(immutable_es.List)()),EDMReducer_defineProperty(EDMReducer_fromJS,"entitySetsIndexMap",Object(immutable_es.Map)()),EDMReducer_defineProperty(EDMReducer_fromJS,"entityTypes",Object(immutable_es.List)()),EDMReducer_defineProperty(EDMReducer_fromJS,"entityTypesIndexMap",Object(immutable_es.Map)()),EDMReducer_defineProperty(EDMReducer_fromJS,"propertyTypes",Object(immutable_es.List)()),EDMReducer_defineProperty(EDMReducer_fromJS,"propertyTypesIndexMap",Object(immutable_es.Map)()),EDMReducer_fromJS));function EDMReducer_reducer(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:EDMReducer_INITIAL_STATE,action=1<arguments.length?arguments[1]:void 0;switch(action.type){case getEntityDataModelTypes.case(action.type):var seqAction=action;return getEntityDataModelTypes.reducer(state,action,{REQUEST:function REQUEST(){return state.setIn(["GET_EDM_TYPES",EDMReducer_REQUEST_STATE],redux_reqseq_build.RequestStates.PENDING).setIn(["GET_EDM_TYPES",seqAction.id],seqAction)},SUCCESS:function SUCCESS(){var rawEntityTypes=seqAction.value.entityTypes,entityTypes=Object(immutable_es.List)().asMutable(),entityTypesIndexMap=Object(immutable_es.Map)().asMutable();rawEntityTypes.forEach((function(et,index){try{var entityType=new EntityTypeBuilder(et).build();entityTypes.push(entityType),entityTypesIndexMap.set(entityType.id,index),entityTypesIndexMap.set(entityType.type,index)}catch(e){EDMReducer_LOG.error(seqAction.type,e),EDMReducer_LOG.error(seqAction.type,et)}}));var rawPropertyTypes=seqAction.value.propertyTypes,propertyTypes=Object(immutable_es.List)().asMutable(),propertyTypesIndexMap=Object(immutable_es.Map)().asMutable();return rawPropertyTypes.forEach((function(pt,index){try{var propertyType=new PropertyTypeBuilder(pt).build();propertyTypes.push(propertyType),propertyTypesIndexMap.set(propertyType.id,index),propertyTypesIndexMap.set(propertyType.type,index)}catch(e){EDMReducer_LOG.error(seqAction.type,e),EDMReducer_LOG.error(seqAction.type,pt)}})),state.set("entityTypes",entityTypes.asImmutable()).set("entityTypesIndexMap",entityTypesIndexMap.asImmutable()).set("propertyTypes",propertyTypes.asImmutable()).set("propertyTypesIndexMap",propertyTypesIndexMap.asImmutable()).setIn(["GET_EDM_TYPES",EDMReducer_REQUEST_STATE],redux_reqseq_build.RequestStates.SUCCESS)},FAILURE:function FAILURE(){return state.set("entityTypes",Object(immutable_es.List)()).set("entityTypesIndexMap",Object(immutable_es.Map)()).set("propertyTypes",Object(immutable_es.List)()).set("propertyTypesIndexMap",Object(immutable_es.Map)()).setIn(["GET_EDM_TYPES",EDMReducer_REQUEST_STATE],redux_reqseq_build.RequestStates.FAILURE)},FINALLY:function FINALLY(){return state.deleteIn(["GET_EDM_TYPES",seqAction.id])}});case getEntitySet.case(action.type):var _seqAction=action;return getEntitySet.reducer(state,_seqAction,{REQUEST:function REQUEST(){return state.setIn([GET_ENTITY_SET,EDMReducer_REQUEST_STATE],redux_reqseq_build.RequestStates.PENDING).setIn([GET_ENTITY_SET,_seqAction.id],_seqAction)},SUCCESS:function SUCCESS(){if(state.hasIn([GET_ENTITY_SET,_seqAction.id])){var entitySet=new EntitySetBuilder(_seqAction.value).build(),entitySets=state.get("entitySets"),entitySetsIndexMap=state.get("entitySetsIndexMap");if(entitySetsIndexMap.has(entitySet.id))entitySets=entitySets.update(entitySetsIndexMap.get(entitySet.id),(function(){return entitySet}));else{var newEntitySetIndex=(entitySets=entitySets.push(entitySet)).count()-1;entitySetsIndexMap=entitySetsIndexMap.set(entitySet.id,newEntitySetIndex).set(entitySet.name,newEntitySetIndex)}return state.set("entitySets",entitySets).set("entitySetsIndexMap",entitySetsIndexMap).setIn([GET_ENTITY_SET,EDMReducer_REQUEST_STATE],redux_reqseq_build.RequestStates.SUCCESS)}return state},FAILURE:function FAILURE(){return state.setIn([GET_ENTITY_SET,EDMReducer_REQUEST_STATE],redux_reqseq_build.RequestStates.FAILURE)},FINALLY:function FINALLY(){return state.deleteIn([GET_ENTITY_SET,_seqAction.id])}});case getEntitySets.case(action.type):var _seqAction2=action;return getEntitySets.reducer(state,_seqAction2,{REQUEST:function REQUEST(){return state.setIn([GET_ENTITY_SETS,EDMReducer_REQUEST_STATE],redux_reqseq_build.RequestStates.PENDING).setIn([GET_ENTITY_SETS,_seqAction2.id],_seqAction2)},SUCCESS:function SUCCESS(){if(state.hasIn([GET_ENTITY_SETS,_seqAction2.id])){var entitySets=state.get("entitySets"),entitySetsIndexMap=state.get("entitySetsIndexMap");return Object.values(_seqAction2.value).forEach((function(es){var entitySet=new EntitySetBuilder(es).build();if(entitySetsIndexMap.has(entitySet.id))entitySets=entitySets.update(entitySetsIndexMap.get(entitySet.id),(function(){return entitySet}));else{var newEntitySetIndex=(entitySets=entitySets.push(entitySet)).count()-1;entitySetsIndexMap=entitySetsIndexMap.set(entitySet.id,newEntitySetIndex).set(entitySet.name,newEntitySetIndex)}})),state.set("entitySets",entitySets).set("entitySetsIndexMap",entitySetsIndexMap).setIn([GET_ENTITY_SETS,EDMReducer_REQUEST_STATE],redux_reqseq_build.RequestStates.SUCCESS)}return state},FAILURE:function FAILURE(){return state.setIn([GET_ENTITY_SETS,EDMReducer_REQUEST_STATE],redux_reqseq_build.RequestStates.FAILURE)},FINALLY:function FINALLY(){return state.deleteIn([GET_ENTITY_SETS,_seqAction2.id])}});default:return state}}var EDMSagas_marked=regeneratorRuntime.mark(getEntityDataModelTypesWorker),EDMSagas_marked2=regeneratorRuntime.mark(getEntityDataModelTypesWatcher),EDMSagas_LOG=new build.Logger("EDMSagas"),getAllEntityTypes=lattice_sagas_build.EntityDataModelApiActions.getAllEntityTypes,getAllPropertyTypes=lattice_sagas_build.EntityDataModelApiActions.getAllPropertyTypes,getAllEntityTypesWorker=lattice_sagas_build.EntityDataModelApiSagas.getAllEntityTypesWorker,getAllPropertyTypesWorker=lattice_sagas_build.EntityDataModelApiSagas.getAllPropertyTypesWorker;function getEntityDataModelTypesWorker(action){var workerResponse,responses;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return workerResponse={},_context.prev=1,_context.next=4,Object(redux_saga_effects_esm.put)(getEntityDataModelTypes.request(action.id));case 4:return _context.next=6,Object(redux_saga_effects_esm.all)([Object(redux_saga_effects_esm.call)(getAllEntityTypesWorker,getAllEntityTypes()),Object(redux_saga_effects_esm.call)(getAllPropertyTypesWorker,getAllPropertyTypes())]);case 6:if(!(responses=_context.sent)[0].error){_context.next=9;break}throw responses[0].error;case 9:if(!responses[1].error){_context.next=11;break}throw responses[1].error;case 11:return _context.next=13,Object(redux_saga_effects_esm.put)(getEntityDataModelTypes.success(action.id,{entityTypes:responses[0].data,propertyTypes:responses[1].data}));case 13:_context.next=21;break;case 15:return _context.prev=15,_context.t0=_context.catch(1),EDMSagas_LOG.error(action.type,_context.t0),workerResponse.error=_context.t0,_context.next=21,Object(redux_saga_effects_esm.put)(getEntityDataModelTypes.failure(action.id,_context.t0));case 21:return _context.prev=21,_context.next=24,Object(redux_saga_effects_esm.put)(getEntityDataModelTypes.finally(action.id));case 24:return _context.finish(21);case 25:return _context.abrupt("return",workerResponse);case 26:case"end":return _context.stop()}}),EDMSagas_marked,null,[[1,15,21,25]])}function getEntityDataModelTypesWatcher(){return regeneratorRuntime.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,Object(redux_saga_effects_esm.takeEvery)("GET_EDM_TYPES",getEntityDataModelTypesWorker);case 2:case"end":return _context2.stop()}}),EDMSagas_marked2)}__webpack_require__(153),__webpack_require__(30),build.ValidationUtils.isValidUUID,build.LangUtils.isNonEmptyArray,build.LangUtils.isNonEmptyString,lattice_build.Models.EntitySet,lattice_build.Models.EntityType,lattice_build.Models.FQN,lattice_build.Models.PropertyType;function ReduxReducer_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var lattice_auth_build=__webpack_require__(187),luxon=__webpack_require__(60),papaparse_min=__webpack_require__(691),papaparse_min_default=__webpack_require__.n(papaparse_min),FileSaver_min=__webpack_require__(692),FileSaver_min_default=__webpack_require__.n(FileSaver_min),edm_constants=__webpack_require__(8),EntityUtils=__webpack_require__(49);function utils_toConsumableArray(arr){return function utils_arrayWithoutHoles(arr){if(Array.isArray(arr))return utils_arrayLikeToArray(arr)}(arr)||function utils_iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function utils_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return utils_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return utils_arrayLikeToArray(o,minLen)}(arr)||function utils_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function utils_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var OPENLATTICE_ID_FQN=lattice_build.Constants.OPENLATTICE_ID_FQN,CODE=edm_constants.b.CODE,DATE_TIME=edm_constants.b.DATE_TIME,FULL_NAME=edm_constants.b.FULL_NAME,GIVEN_NAME=edm_constants.b.GIVEN_NAME,ID=edm_constants.b.ID,SCORE_CATEGORY=edm_constants.b.SCORE_CATEGORY,SCORE_VALUE=edm_constants.b.SCORE_VALUE,SSN=edm_constants.b.SSN,SURNAME=edm_constants.b.SURNAME,TITLE=edm_constants.b.TITLE,VALUES=edm_constants.b.VALUES,INITIAL_HEADERS=["id","datetime","submission ol id","provider","first name","last name","last 4 digits of ssn","person ol id","submission score"],generateHelplineSubmissionsCSV=function(data,filename){var answers=data.get("answers",Object(immutable_es.Map)()),personBySubmission=data.get("personBySubmission",Object(immutable_es.Map)()),providerBySubmission=data.get("providerBySubmission",Object(immutable_es.Map)()),questions=data.get("questions",Object(immutable_es.Map)()),submissionAnswersByQuestion=data.get("submissionAnswersByQuestion",Object(immutable_es.Map)()),submissions=data.get("submissions",Object(immutable_es.Map)()),summarySetsBySubmission=data.get("summarySetBySubmission",Object(immutable_es.Map)()),headers=function(questions){var headers=[].concat(INITIAL_HEADERS);return questions.forEach((function(question){var code=Object(EntityUtils.a)(question,CODE);headers.push("q".concat(code," title"),"q".concat(code," value"),"q".concat(code," score"),"q".concat(code," score category"))})),headers}(questions),submissionsData=submissions.reduce((function(accumulator,submission,submissionId){var person=personBySubmission.get(submissionId),provider=providerBySubmission.get(submissionId,Object(immutable_es.Map)()),summarySet=summarySetsBySubmission.get(submissionId,Object(immutable_es.Map)()),submissionProperties=Object(EntityUtils.b)(submission,[ID,DATE_TIME,OPENLATTICE_ID_FQN]),providerProperties=Object(EntityUtils.b)(provider,[FULL_NAME]),personProperties=Object(EntityUtils.b)(person,[GIVEN_NAME,SURNAME,SSN,OPENLATTICE_ID_FQN]),summarySetProperties=Object(EntityUtils.b)(summarySet,[VALUES]),answersByQuestion=submissionAnswersByQuestion.get(submissionId,Object(immutable_es.Map)()),submissionResponseData=function(questions,answers,answersByQuestion){var data=[];return questions.forEach((function(question,questionId){var title=Object(EntityUtils.a)(question,TITLE),answerId=answersByQuestion.get(questionId),answer=answers.get(answerId),answerProperties=Object(EntityUtils.b)(answer,[VALUES,SCORE_VALUE,SCORE_CATEGORY]);data.push.apply(data,[title].concat(utils_toConsumableArray(answerProperties)))})),data}(questions,answers,answersByQuestion),row=[].concat(submissionProperties,providerProperties,personProperties,summarySetProperties,submissionResponseData);return accumulator.push(row),accumulator}),[]),csv=papaparse_min_default.a.unparse({fields:headers,data:submissionsData}),blob=new Blob([csv],{type:"text/csv"});FileSaver_min_default.a.saveAs(blob,filename)},getSearchTerm=function(propertyTypeId,searchString){var exact=2<arguments.length&&void 0!==arguments[2]&&arguments[2],searchTerm=exact?'"'.concat(searchString,'"'):searchString;return"".concat("entity",".").concat(propertyTypeId,":").concat(searchTerm)};function getESIDFromConfig(config,appType){return Object(immutable_es.getIn)(config,[appType,"entitySetId"])}var app_constants=__webpack_require__(77);__webpack_require__(1668),__webpack_require__(544),__webpack_require__(393);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function ProfileSagas_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return ProfileSagas_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ProfileSagas_arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ProfileSagas_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ProfileSagas_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var ProfileSagas_marked=regeneratorRuntime.mark(getPersonWorker),ProfileSagas_marked2=regeneratorRuntime.mark(getPersonWatcher),_marked3=regeneratorRuntime.mark(getProfileSummaryWorker),_marked4=regeneratorRuntime.mark(getProfileSummaryWatcher),_marked5=regeneratorRuntime.mark(getSubmissionsWorker),_marked6=regeneratorRuntime.mark(getSubmissionsWatcher),_marked7=regeneratorRuntime.mark(getSummarySetsWorker),_marked9=regeneratorRuntime.mark(getGreatestNeedsWorker),_marked11=regeneratorRuntime.mark(getSubmissionAnswersWorker),_marked13=regeneratorRuntime.mark(getQuestionsFromAnswersWorker),_marked15=regeneratorRuntime.mark(getSurveyWorker),_marked16=regeneratorRuntime.mark(getSurveyWatcher),_marked17=regeneratorRuntime.mark(getSubmissionResultsWorker),_marked18=regeneratorRuntime.mark(getSubmissionResultsWatcher),_marked19=regeneratorRuntime.mark(getAggregateResultsWorker),_marked20=regeneratorRuntime.mark(getAggregateResultsWatcher),ProfileSagas_isValidUUID=build.ValidationUtils.isValidUUID,ProfileSagas_OPENLATTICE_ID_FQN=lattice_build.Constants.OPENLATTICE_ID_FQN,getEntityData=lattice_sagas_build.DataApiActions.getEntityData,getEntityDataWorker=lattice_sagas_build.DataApiSagas.getEntityDataWorker,searchEntityNeighborsWithFilter=lattice_sagas_build.SearchApiActions.searchEntityNeighborsWithFilter,searchEntityNeighborsWithFilterWorker=lattice_sagas_build.SearchApiSagas.searchEntityNeighborsWithFilterWorker,ProfileSagas_LOG=new build.Logger("ProfileSagas");function getPersonWorker(action){var response,personId,config,personESID,personResponse,personData;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(response={},_context.prev=1,personId=action.value,ProfileSagas_isValidUUID(personId)){_context.next=5;break}throw Errors.ERR_ACTION_VALUE_TYPE;case 5:return _context.next=7,Object(redux_saga_effects_esm.put)(ProfileActions.m.request(action.id,personId));case 7:return _context.next=9,Object(redux_saga_effects_esm.select)((function(store){return store.getIn(app_constants.a.APP_CONFIG)}));case 9:return config=_context.sent,personESID=getESIDFromConfig(config,edm_constants.a.PEOPLE),_context.next=13,Object(redux_saga_effects_esm.call)(getEntityDataWorker,getEntityData({entitySetId:personESID,entityKeyId:personId}));case 13:if(!(personResponse=_context.sent).error){_context.next=16;break}throw personResponse.error;case 16:return personData=Object(immutable_es.fromJS)(personResponse.data),response.data=personData,_context.next=20,Object(redux_saga_effects_esm.put)(ProfileActions.m.success(action.id,response.data));case 20:_context.next=28;break;case 22:return _context.prev=22,_context.t0=_context.catch(1),ProfileSagas_LOG.error(action.type,_context.t0),response.error=_context.t0,_context.next=28,Object(redux_saga_effects_esm.put)(ProfileActions.m.failure(action.id,_context.t0));case 28:return _context.prev=28,_context.next=31,Object(redux_saga_effects_esm.put)(ProfileActions.m.finally(action.id));case 31:return _context.finish(28);case 32:return _context.abrupt("return",response);case 33:case"end":return _context.stop()}}),ProfileSagas_marked,null,[[1,22,28,32]])}function getPersonWatcher(){return regeneratorRuntime.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,Object(redux_saga_effects_esm.takeLatest)(ProfileActions.c,getPersonWorker);case 2:case"end":return _context2.stop()}}),ProfileSagas_marked2)}function getProfileSummaryWorker(action){var response,_fromJS,personId,config,personESID,personResponse,personData,submissionsResponse,surveyHistory,recentSurveyIds,summarySetsResponse,selfSufficiency,greatestNeedsResponse;return regeneratorRuntime.wrap((function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(response={},_context3.prev=1,personId=action.value,ProfileSagas_isValidUUID(personId)){_context3.next=5;break}throw Errors.ERR_ACTION_VALUE_TYPE;case 5:return _context3.next=7,Object(redux_saga_effects_esm.put)(ProfileActions.n.request(action.id,personId));case 7:return _context3.next=9,Object(redux_saga_effects_esm.select)((function(store){return store.getIn(app_constants.a.APP_CONFIG)}));case 9:return config=_context3.sent,personESID=getESIDFromConfig(config,edm_constants.a.PEOPLE),_context3.next=13,Object(redux_saga_effects_esm.call)(getEntityDataWorker,getEntityData({entitySetId:personESID,entityKeyId:personId}));case 13:if(!(personResponse=_context3.sent).error){_context3.next=16;break}throw personResponse.error;case 16:return personData=Object(immutable_es.fromJS)(personResponse.data),_context3.next=19,Object(redux_saga_effects_esm.call)(getSubmissionsWorker,Object(ProfileActions.r)(personId));case 19:if(!(submissionsResponse=_context3.sent).error){_context3.next=22;break}throw submissionsResponse.error;case 22:return surveyHistory=submissionsResponse.data,recentSurveyIds=surveyHistory.map((function(survey){return survey.getIn([ProfileSagas_OPENLATTICE_ID_FQN,0])})),_context3.next=26,Object(redux_saga_effects_esm.call)(getSummarySetsWorker,Object(ProfileActions.s)(recentSurveyIds.toJS()));case 26:if(!(summarySetsResponse=_context3.sent).error){_context3.next=29;break}throw summarySetsResponse.error;case 29:return selfSufficiency=surveyHistory.map((function(survey){var surveyId=survey.getIn([ProfileSagas_OPENLATTICE_ID_FQN,0]),surveyDate=survey.getIn([edm_constants.b.DATE_TIME,0]),score=summarySetsResponse.data.getIn([surveyId,0,"neighborDetails",edm_constants.b.VALUES,0]),parsedScore=parseInt(score,10)||0;return{x:luxon.DateTime.fromISO(surveyDate).toLocaleString(luxon.DateTime.DATE_SHORT),y:parsedScore}})).reverse(),_context3.next=32,Object(redux_saga_effects_esm.call)(getGreatestNeedsWorker,Object(ProfileActions.l)(recentSurveyIds.first()));case 32:if(!(greatestNeedsResponse=_context3.sent).error){_context3.next=35;break}throw greatestNeedsResponse.error;case 35:return response.data=Object(immutable_es.fromJS)((ProfileSagas_defineProperty(_fromJS={},constants.e,personData),ProfileSagas_defineProperty(_fromJS,constants.m,submissionsResponse.data),ProfileSagas_defineProperty(_fromJS,constants.j,selfSufficiency),ProfileSagas_defineProperty(_fromJS,constants.c,greatestNeedsResponse.data),ProfileSagas_defineProperty(_fromJS,constants.d,ProfileSagas_defineProperty({},personId,luxon.DateTime.local().valueOf())),_fromJS)),_context3.next=38,Object(redux_saga_effects_esm.put)(ProfileActions.n.success(action.id,response.data));case 38:_context3.next=46;break;case 40:return _context3.prev=40,_context3.t0=_context3.catch(1),ProfileSagas_LOG.error(action.type,_context3.t0),response.error=_context3.t0,_context3.next=46,Object(redux_saga_effects_esm.put)(ProfileActions.n.failure(action.id,_context3.t0));case 46:return _context3.prev=46,_context3.next=49,Object(redux_saga_effects_esm.put)(ProfileActions.n.finally(action.id));case 49:return _context3.finish(46);case 50:return _context3.abrupt("return",response);case 51:case"end":return _context3.stop()}}),_marked3,null,[[1,40,46,50]])}function getProfileSummaryWatcher(){return regeneratorRuntime.wrap((function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,Object(redux_saga_effects_esm.takeLatest)(ProfileActions.d,getProfileSummaryWorker);case 2:case"end":return _context4.stop()}}),_marked4)}function getSubmissionsWorker(action){var response,personId,config,peopleESID,submissionsESID,respondsWithESID,submissionsSearchParams,submissionsResponse;return regeneratorRuntime.wrap((function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(response={},_context5.prev=1,personId=action.value,ProfileSagas_isValidUUID(personId)){_context5.next=5;break}throw Errors.ERR_ACTION_VALUE_TYPE;case 5:return _context5.next=7,Object(redux_saga_effects_esm.put)(ProfileActions.r.request(action.id,personId));case 7:return _context5.next=9,Object(redux_saga_effects_esm.select)((function(store){return store.getIn(app_constants.a.APP_CONFIG)}));case 9:return config=_context5.sent,peopleESID=getESIDFromConfig(config,edm_constants.a.PEOPLE),submissionsESID=getESIDFromConfig(config,edm_constants.a.SUBMISSION),respondsWithESID=getESIDFromConfig(config,edm_constants.a.RESPONDS_WITH),submissionsSearchParams={entitySetId:peopleESID,filter:{entityKeyIds:[personId],edgeEntitySetIds:[respondsWithESID],destinationEntitySetIds:[submissionsESID],sourceEntitySetIds:[]}},_context5.next=16,Object(redux_saga_effects_esm.call)(searchEntityNeighborsWithFilterWorker,searchEntityNeighborsWithFilter(submissionsSearchParams));case 16:if(!(submissionsResponse=_context5.sent).error){_context5.next=19;break}throw submissionsResponse.error;case 19:return response.data=Object(immutable_es.fromJS)(submissionsResponse.data).get(personId,Object(immutable_es.List)()).map((function(report){return report.get("neighborDetails")})).toSet().toList().sortBy((function(report){return-luxon.DateTime.fromISO(report.getIn([edm_constants.b.DATE_TIME,0])).valueOf()})),_context5.next=22,Object(redux_saga_effects_esm.put)(ProfileActions.r.success(action.id,response.data));case 22:_context5.next=30;break;case 24:return _context5.prev=24,_context5.t0=_context5.catch(1),ProfileSagas_LOG.error(action.type,_context5.t0),response.error=_context5.t0,_context5.next=30,Object(redux_saga_effects_esm.put)(ProfileActions.r.failure(action.id,_context5.t0));case 30:return _context5.prev=30,_context5.next=33,Object(redux_saga_effects_esm.put)(ProfileActions.r.finally(action.id));case 33:return _context5.finish(30);case 34:return _context5.abrupt("return",response);case 35:case"end":return _context5.stop()}}),_marked5,null,[[1,24,30,34]])}function getSubmissionsWatcher(){return regeneratorRuntime.wrap((function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,Object(redux_saga_effects_esm.takeLatest)(ProfileActions.f,getSubmissionsWorker);case 2:case"end":return _context6.stop()}}),_marked6)}function getSummarySetsWorker(action){var response,submissionIds,config,summarySetESID,submissionsESID,registeredForESID,summarySetsSearchParams,summarySetsResponse;return regeneratorRuntime.wrap((function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return response={},_context7.prev=1,submissionIds=action.value,_context7.next=5,Object(redux_saga_effects_esm.put)(ProfileActions.s.request(action.id,submissionIds));case 5:return _context7.next=7,Object(redux_saga_effects_esm.select)((function(store){return store.getIn(app_constants.a.APP_CONFIG)}));case 7:return config=_context7.sent,summarySetESID=getESIDFromConfig(config,edm_constants.a.SUMMARY_SET),submissionsESID=getESIDFromConfig(config,edm_constants.a.SUBMISSION),registeredForESID=getESIDFromConfig(config,edm_constants.a.REGISTERED_FOR),summarySetsSearchParams={entitySetId:submissionsESID,filter:{entityKeyIds:submissionIds,edgeEntitySetIds:[registeredForESID],destinationEntitySetIds:[],sourceEntitySetIds:[summarySetESID]}},_context7.next=14,Object(redux_saga_effects_esm.call)(searchEntityNeighborsWithFilterWorker,searchEntityNeighborsWithFilter(summarySetsSearchParams));case 14:if(!(summarySetsResponse=_context7.sent).error){_context7.next=17;break}throw summarySetsResponse.error;case 17:return response.data=Object(immutable_es.fromJS)(summarySetsResponse.data),_context7.next=20,Object(redux_saga_effects_esm.put)(ProfileActions.s.success(action.id,response.data));case 20:_context7.next=28;break;case 22:return _context7.prev=22,_context7.t0=_context7.catch(1),ProfileSagas_LOG.error(action.type,_context7.t0),response.error=_context7.t0,_context7.next=28,Object(redux_saga_effects_esm.put)(ProfileActions.s.failure(action.id,_context7.t0));case 28:return _context7.prev=28,_context7.next=31,Object(redux_saga_effects_esm.put)(ProfileActions.s.finally(action.id));case 31:return _context7.finish(28);case 32:return _context7.abrupt("return",response);case 33:case"end":return _context7.stop()}}),_marked7,null,[[1,22,28,32]])}function getGreatestNeedsWorker(action){var response,submissionId,answersResponse,answers,answersIds,questionsResponse,questions,scoreByQuestion,scoreByCategory,greatestNeeds;return regeneratorRuntime.wrap((function(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:if(response={},_context9.prev=1,submissionId=action.value,ProfileSagas_isValidUUID(submissionId)){_context9.next=5;break}throw Errors.ERR_ACTION_VALUE_TYPE;case 5:return _context9.next=7,Object(redux_saga_effects_esm.put)(ProfileActions.l.request(action.id,submissionId));case 7:return _context9.next=9,Object(redux_saga_effects_esm.call)(getSubmissionAnswersWorker,Object(ProfileActions.p)([submissionId]));case 9:if(!(answersResponse=_context9.sent).error){_context9.next=12;break}throw answersResponse.error;case 12:return answers=answersResponse.data.get(submissionId),answersIds=answers.map((function(answer){return answer.get("neighborId")})),_context9.next=16,Object(redux_saga_effects_esm.call)(getQuestionsFromAnswersWorker,Object(ProfileActions.o)(answersIds.toJS()));case 16:return questionsResponse=_context9.sent,questions=questionsResponse.data,scoreByQuestion=answers.reduce((function(scores,answer){var answerId=answer.get("neighborId"),answerScore=answer.getIn(["neighborDetails",edm_constants.b.SCORE_VALUE,0]),questionNumber=questions.getIn([answerId,0,"neighborDetails",edm_constants.b.CODE,0]);return scores.set(questionNumber,answerScore)}),Object(immutable_es.Map)()),scoreByCategory=scoreByQuestion.reduce((function(scores,value,questionNumber){var category=constants.b[questionNumber],currentScore=scores.get(category)||0;return scores.set(category,value+currentScore)}),Object(immutable_es.Map)()),greatestNeeds=scoreByCategory.sort((function(a,b){return b-a})).keySeq().toList().slice(0,3),response.data=greatestNeeds,_context9.next=24,Object(redux_saga_effects_esm.put)(ProfileActions.l.success(action.id,response.data));case 24:_context9.next=32;break;case 26:return _context9.prev=26,_context9.t0=_context9.catch(1),ProfileSagas_LOG.error(action.type,_context9.t0),response.error=_context9.t0,_context9.next=32,Object(redux_saga_effects_esm.put)(ProfileActions.l.failure(action.id,_context9.t0));case 32:return _context9.prev=32,_context9.next=35,Object(redux_saga_effects_esm.put)(ProfileActions.l.finally(action.id));case 35:return _context9.finish(32);case 36:return _context9.abrupt("return",response);case 37:case"end":return _context9.stop()}}),_marked9,null,[[1,26,32,36]])}function getSubmissionAnswersWorker(action){var response,submissionIds,config,answerESID,submissionsESID,partOfESID,answersSearchParams,answersResponse;return regeneratorRuntime.wrap((function(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:if(response={},_context11.prev=1,submissionIds=action.value,Array.isArray(submissionIds)&&submissionIds.every(ProfileSagas_isValidUUID)){_context11.next=5;break}throw Errors.ERR_ACTION_VALUE_TYPE;case 5:return _context11.next=7,Object(redux_saga_effects_esm.put)(ProfileActions.p.request(action.id,submissionIds));case 7:return _context11.next=9,Object(redux_saga_effects_esm.select)((function(store){return store.getIn(app_constants.a.APP_CONFIG)}));case 9:return config=_context11.sent,answerESID=getESIDFromConfig(config,edm_constants.a.ANSWER),submissionsESID=getESIDFromConfig(config,edm_constants.a.SUBMISSION),partOfESID=getESIDFromConfig(config,edm_constants.a.PART_OF),answersSearchParams={entitySetId:submissionsESID,filter:{entityKeyIds:submissionIds,edgeEntitySetIds:[partOfESID],destinationEntitySetIds:[],sourceEntitySetIds:[answerESID]}},_context11.next=16,Object(redux_saga_effects_esm.call)(searchEntityNeighborsWithFilterWorker,searchEntityNeighborsWithFilter(answersSearchParams));case 16:if(!(answersResponse=_context11.sent).error){_context11.next=19;break}throw answersResponse.error;case 19:return response.data=Object(immutable_es.fromJS)(answersResponse.data),_context11.next=22,Object(redux_saga_effects_esm.put)(ProfileActions.p.success(action.id,response.data));case 22:_context11.next=30;break;case 24:return _context11.prev=24,_context11.t0=_context11.catch(1),ProfileSagas_LOG.error(action.type,_context11.t0),response.error=_context11.t0,_context11.next=30,Object(redux_saga_effects_esm.put)(ProfileActions.p.failure(action.id,_context11.t0));case 30:return _context11.prev=30,_context11.next=33,Object(redux_saga_effects_esm.put)(ProfileActions.p.finally(action.id));case 33:return _context11.finish(30);case 34:return _context11.abrupt("return",response);case 35:case"end":return _context11.stop()}}),_marked11,null,[[1,24,30,34]])}function getQuestionsFromAnswersWorker(action){var response,answersIds,config,answerESID,questionESID,addressesESID,questionsSearchParams,questionsResponse;return regeneratorRuntime.wrap((function(_context13){for(;;)switch(_context13.prev=_context13.next){case 0:return response={},_context13.prev=1,answersIds=action.value,_context13.next=5,Object(redux_saga_effects_esm.put)(ProfileActions.o.request(action.id,answersIds));case 5:return _context13.next=7,Object(redux_saga_effects_esm.select)((function(store){return store.getIn(app_constants.a.APP_CONFIG)}));case 7:return config=_context13.sent,answerESID=getESIDFromConfig(config,edm_constants.a.ANSWER),questionESID=getESIDFromConfig(config,edm_constants.a.QUESTION),addressesESID=getESIDFromConfig(config,edm_constants.a.ADDRESSES),questionsSearchParams={entitySetId:answerESID,filter:{entityKeyIds:answersIds,edgeEntitySetIds:[addressesESID],destinationEntitySetIds:[questionESID],sourceEntitySetIds:[]}},_context13.next=14,Object(redux_saga_effects_esm.call)(searchEntityNeighborsWithFilterWorker,searchEntityNeighborsWithFilter(questionsSearchParams));case 14:if(!(questionsResponse=_context13.sent).error){_context13.next=17;break}throw questionsResponse.error;case 17:return response.data=Object(immutable_es.fromJS)(questionsResponse.data),_context13.next=20,Object(redux_saga_effects_esm.put)(ProfileActions.o.success(action.id,response.data));case 20:_context13.next=28;break;case 22:return _context13.prev=22,_context13.t0=_context13.catch(1),ProfileSagas_LOG.error(action.type,_context13.t0),response.error=_context13.t0,_context13.next=28,Object(redux_saga_effects_esm.put)(ProfileActions.o.failure(action.id,_context13.t0));case 28:return _context13.prev=28,_context13.next=31,Object(redux_saga_effects_esm.put)(ProfileActions.o.finally(action.id));case 31:return _context13.finish(28);case 32:return _context13.abrupt("return",response);case 33:case"end":return _context13.stop()}}),_marked13,null,[[1,22,28,32]])}function getSurveyWorker(action){var response,_fromJS2,submissionId,config,occurredAtESID,peopleESID,providerESID,respondsWithESID,submissionsESID,personRequest,providerRequest,submissionRequest,surveyRequest,_yield$all,_yield$all2,personResponse,submissionResponse,surveyResponse,providerResponse,person,provider;return regeneratorRuntime.wrap((function(_context15){for(;;)switch(_context15.prev=_context15.next){case 0:if(response={},_context15.prev=1,submissionId=action.value,ProfileSagas_isValidUUID(submissionId)){_context15.next=5;break}throw Errors.ERR_ACTION_VALUE_TYPE;case 5:return _context15.next=7,Object(redux_saga_effects_esm.put)(ProfileActions.t.request(action.id));case 7:return _context15.next=9,Object(redux_saga_effects_esm.select)((function(store){return store.getIn(app_constants.a.APP_CONFIG)}));case 9:return config=_context15.sent,occurredAtESID=getESIDFromConfig(config,edm_constants.a.OCCURRED_AT),peopleESID=getESIDFromConfig(config,edm_constants.a.PEOPLE),providerESID=getESIDFromConfig(config,edm_constants.a.PROVIDER),respondsWithESID=getESIDFromConfig(config,edm_constants.a.RESPONDS_WITH),submissionsESID=getESIDFromConfig(config,edm_constants.a.SUBMISSION),personRequest=Object(redux_saga_effects_esm.call)(searchEntityNeighborsWithFilterWorker,searchEntityNeighborsWithFilter({entitySetId:submissionsESID,filter:{entityKeyIds:[submissionId],edgeEntitySetIds:[respondsWithESID],destinationEntitySetIds:[],sourceEntitySetIds:[peopleESID]}})),providerRequest=Object(redux_saga_effects_esm.call)(searchEntityNeighborsWithFilterWorker,searchEntityNeighborsWithFilter({entitySetId:submissionsESID,filter:{entityKeyIds:[submissionId],edgeEntitySetIds:[occurredAtESID],destinationEntitySetIds:[providerESID],sourceEntitySetIds:[]}})),submissionRequest=Object(redux_saga_effects_esm.call)(getEntityDataWorker,getEntityData({entitySetId:submissionsESID,entityKeyId:submissionId})),surveyRequest=Object(redux_saga_effects_esm.call)(getSubmissionResultsWorker,Object(ProfileActions.q)([submissionId])),_context15.next=21,Object(redux_saga_effects_esm.all)([personRequest,submissionRequest,surveyRequest,providerRequest]);case 21:if(_yield$all=_context15.sent,_yield$all2=_slicedToArray(_yield$all,4),personResponse=_yield$all2[0],submissionResponse=_yield$all2[1],surveyResponse=_yield$all2[2],providerResponse=_yield$all2[3],!personResponse.error){_context15.next=29;break}throw personResponse.error;case 29:if(!submissionResponse.error){_context15.next=31;break}throw submissionResponse.error;case 31:if(!surveyResponse.error){_context15.next=33;break}throw surveyResponse.error;case 33:if(!providerResponse.error){_context15.next=35;break}throw providerResponse.error;case 35:return person=Object(immutable_es.getIn)(personResponse,["data",submissionId,"0","neighborDetails"]),provider=Object(immutable_es.fromJS)(providerResponse.data).getIn([submissionId,0,"neighborDetails"]),response.data=Object(immutable_es.fromJS)((_fromJS2={},ProfileSagas_defineProperty(_fromJS2,constants.e,person),ProfileSagas_defineProperty(_fromJS2,constants.h,provider),ProfileSagas_defineProperty(_fromJS2,constants.k,ProfileSagas_defineProperty({},submissionId,submissionResponse.data)),_fromJS2)).merge(surveyResponse.data),_context15.next=40,Object(redux_saga_effects_esm.put)(ProfileActions.t.success(action.id,response.data));case 40:_context15.next=48;break;case 42:return _context15.prev=42,_context15.t0=_context15.catch(1),ProfileSagas_LOG.error(action.type,_context15.t0),response.error=_context15.t0,_context15.next=48,Object(redux_saga_effects_esm.put)(ProfileActions.t.failure(action.id,_context15.t0));case 48:return _context15.prev=48,_context15.next=51,Object(redux_saga_effects_esm.put)(ProfileActions.t.finally(action.id));case 51:return _context15.finish(48);case 52:return _context15.abrupt("return",response);case 53:case"end":return _context15.stop()}}),_marked15,null,[[1,42,48,52]])}function getSurveyWatcher(){return regeneratorRuntime.wrap((function(_context16){for(;;)switch(_context16.prev=_context16.next){case 0:return _context16.next=2,Object(redux_saga_effects_esm.takeLatest)(ProfileActions.j,getSurveyWorker);case 2:case"end":return _context16.stop()}}),_marked16)}function getSubmissionResultsWorker(action){var response,_fromJS3,submissionsIds,answersResponse,answersBySubmission,answerIdsBySubmissionId,answers,answersIds,questionsResponse,questionsData,questions,questionsByAnswerId,surveyAnswersByQuestion;return regeneratorRuntime.wrap((function(_context17){for(;;)switch(_context17.prev=_context17.next){case 0:if(response={},_context17.prev=1,submissionsIds=action.value,Array.isArray(submissionsIds)&&submissionsIds.every(ProfileSagas_isValidUUID)){_context17.next=5;break}throw Errors.ERR_ACTION_VALUE_TYPE;case 5:return _context17.next=7,Object(redux_saga_effects_esm.put)(ProfileActions.q.request(action.id,action.value));case 7:return _context17.next=9,Object(redux_saga_effects_esm.call)(getSubmissionAnswersWorker,Object(ProfileActions.p)(submissionsIds));case 9:if(!(answersResponse=_context17.sent).error){_context17.next=12;break}throw answersResponse.error;case 12:return answersBySubmission=answersResponse.data,answerIdsBySubmissionId=answersBySubmission.map((function(submission){return submission.map((function(answer){return answer.get("neighborId")}))})),answers=Object(immutable_es.Map)().withMutations((function(mutable){answersBySubmission.forEach((function(submission){submission.forEach((function(answer){mutable.set(answer.get("neighborId"),answer.get("neighborDetails"))}))}))})),answersIds=answersBySubmission.reduce((function(ids,submission){return submission.forEach((function(answer){ids.push(answer.get("neighborId"))})),ids}),[]),_context17.next=18,Object(redux_saga_effects_esm.call)(getQuestionsFromAnswersWorker,Object(ProfileActions.o)(answersIds));case 18:return questionsResponse=_context17.sent,questionsData=questionsResponse.data,questions=Object(immutable_es.Map)().withMutations((function(mutable){questionsData.forEach((function(questionsForAnswer){return questionsForAnswer.forEach((function(question){mutable.set(question.get("neighborId"),question.get("neighborDetails"))}))}))})).sortBy((function(question){return parseInt(Object(EntityUtils.a)(question,edm_constants.b.CODE),10)})),questionsByAnswerId=questionsData.map((function(question){return question.getIn([0,"neighborId"])})),surveyAnswersByQuestion=answerIdsBySubmissionId.mapEntries((function(_ref){var _ref2=_slicedToArray(_ref,2),submissionId=_ref2[0],answerIds=_ref2[1];return[submissionId,Object(immutable_es.Map)().withMutations((function(mutable){answerIds.forEach((function(answerId){var questionId=questionsByAnswerId.get(answerId);ProfileSagas_isValidUUID(questionId)&&mutable.set(questionId,answerId)}))}))]})),response.data=Object(immutable_es.fromJS)((ProfileSagas_defineProperty(_fromJS3={},constants.a,answers),ProfileSagas_defineProperty(_fromJS3,constants.i,questions),ProfileSagas_defineProperty(_fromJS3,constants.l,surveyAnswersByQuestion),_fromJS3)),_context17.next=26,Object(redux_saga_effects_esm.put)(ProfileActions.q.success(action.id,response.data));case 26:_context17.next=34;break;case 28:return _context17.prev=28,_context17.t0=_context17.catch(1),ProfileSagas_LOG.error(action.type,_context17.t0),response.error=_context17.t0,_context17.next=34,Object(redux_saga_effects_esm.put)(ProfileActions.q.failure(action.id,_context17.t0));case 34:return _context17.prev=34,_context17.next=37,Object(redux_saga_effects_esm.put)(ProfileActions.q.finally(action.id));case 37:return _context17.finish(34);case 38:return _context17.abrupt("return",response);case 39:case"end":return _context17.stop()}}),_marked17,null,[[1,28,34,38]])}function getSubmissionResultsWatcher(){return regeneratorRuntime.wrap((function(_context18){for(;;)switch(_context18.prev=_context18.next){case 0:return _context18.next=2,Object(redux_saga_effects_esm.takeLatest)(ProfileActions.h,getSubmissionResultsWorker);case 2:case"end":return _context18.stop()}}),_marked18)}function getAggregateResultsWorker(action){var response,personId,submissionsResponse,submissionsData,submissionIds,submissions,surveyResultsResponse,surveyResultsData;return regeneratorRuntime.wrap((function(_context19){for(;;)switch(_context19.prev=_context19.next){case 0:if(response={},_context19.prev=1,personId=action.value,ProfileSagas_isValidUUID(personId)){_context19.next=5;break}throw Errors.ERR_ACTION_VALUE_TYPE;case 5:return _context19.next=7,Object(redux_saga_effects_esm.put)(ProfileActions.k.request(action.id));case 7:return _context19.next=9,Object(redux_saga_effects_esm.call)(getSubmissionsWorker,Object(ProfileActions.r)(personId));case 9:if(!(submissionsResponse=_context19.sent).error){_context19.next=12;break}throw submissionsResponse.error;case 12:return submissionsData=submissionsResponse.data,submissionIds=submissionsData.map((function(submission){return submission.getIn([ProfileSagas_OPENLATTICE_ID_FQN,0])})).toJS(),submissions=Object(immutable_es.Map)().withMutations((function(mutable){submissionsData.forEach((function(submission){mutable.set(submission.getIn([ProfileSagas_OPENLATTICE_ID_FQN,0]),submission)}))})),_context19.next=17,Object(redux_saga_effects_esm.call)(getSubmissionResultsWorker,Object(ProfileActions.q)(submissionIds));case 17:if(!(surveyResultsResponse=_context19.sent).error){_context19.next=20;break}throw surveyResultsResponse.error;case 20:return surveyResultsData=surveyResultsResponse.data,response.data=Object(immutable_es.fromJS)(ProfileSagas_defineProperty({},constants.k,submissions)).merge(surveyResultsData),_context19.next=24,Object(redux_saga_effects_esm.put)(ProfileActions.k.success(action.id,response.data));case 24:_context19.next=32;break;case 26:return _context19.prev=26,_context19.t0=_context19.catch(1),ProfileSagas_LOG.error(action.type,_context19.t0),response.error=_context19.t0,_context19.next=32,Object(redux_saga_effects_esm.put)(ProfileActions.k.failure(action.id));case 32:return _context19.prev=32,_context19.next=35,Object(redux_saga_effects_esm.put)(ProfileActions.k.finally(action.id));case 35:return _context19.finish(32);case 36:return _context19.abrupt("return",response);case 37:case"end":return _context19.stop()}}),_marked19,null,[[1,26,32,36]])}function getAggregateResultsWatcher(){return regeneratorRuntime.wrap((function(_context20){for(;;)switch(_context20.prev=_context20.next){case 0:return _context20.next=2,Object(redux_saga_effects_esm.takeLatest)(ProfileActions.a,getAggregateResultsWorker);case 2:case"end":return _context20.stop()}}),_marked20)}function DownloadsSagas_slicedToArray(arr,i){return function DownloadsSagas_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function DownloadsSagas_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function DownloadsSagas_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return DownloadsSagas_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DownloadsSagas_arrayLikeToArray(o,minLen)}(arr,i)||function DownloadsSagas_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DownloadsSagas_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function DownloadsSagas_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var DownloadsSagas_marked=regeneratorRuntime.mark(getSurveyPeopleWorker),DownloadsSagas_marked3=regeneratorRuntime.mark(getSubmissionProvidersWorker),DownloadsSagas_marked5=regeneratorRuntime.mark(downloadSurveysByDateRangeWorker),DownloadsSagas_marked6=regeneratorRuntime.mark(downloadSurveysByDateRangeWatcher),DownloadsSagas_getEntityKeyId=build.DataUtils.getEntityKeyId,DownloadsSagas_isValidUUID=build.ValidationUtils.isValidUUID,searchEntitySetData=lattice_sagas_build.SearchApiActions.searchEntitySetData,DownloadsSagas_searchEntityNeighborsWithFilter=lattice_sagas_build.SearchApiActions.searchEntityNeighborsWithFilter,searchEntitySetDataWorker=lattice_sagas_build.SearchApiSagas.searchEntitySetDataWorker,DownloadsSagas_searchEntityNeighborsWithFilterWorker=lattice_sagas_build.SearchApiSagas.searchEntityNeighborsWithFilterWorker,DownloadsSagas_LOG=new build.Logger("DownloadsSagas");function getSurveyPeopleWorker(action){var response,submissionIds,config,peopleESID,respondsWithESID,submissionsESID,peopleResponse,peopleResponseData;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(response={data:void 0},_context.prev=1,submissionIds=action.value,Array.isArray(submissionIds)&&submissionIds.every(DownloadsSagas_isValidUUID)){_context.next=5;break}throw Errors.ERR_ACTION_VALUE_TYPE;case 5:return _context.next=7,Object(redux_saga_effects_esm.put)(DownloadsActions.f.request(action.id));case 7:return _context.next=9,Object(redux_saga_effects_esm.select)((function(store){return store.getIn(app_constants.a.APP_CONFIG)}));case 9:return config=_context.sent,peopleESID=getESIDFromConfig(config,edm_constants.a.PEOPLE),respondsWithESID=getESIDFromConfig(config,edm_constants.a.RESPONDS_WITH),submissionsESID=getESIDFromConfig(config,edm_constants.a.SUBMISSION),_context.next=15,Object(redux_saga_effects_esm.call)(DownloadsSagas_searchEntityNeighborsWithFilterWorker,DownloadsSagas_searchEntityNeighborsWithFilter({entitySetId:submissionsESID,filter:{entityKeyIds:submissionIds,edgeEntitySetIds:[respondsWithESID],destinationEntitySetIds:[],sourceEntitySetIds:[peopleESID]}}));case 15:if(!(peopleResponse=_context.sent).error){_context.next=18;break}throw peopleResponse.error;case 18:return peopleResponseData=Object(immutable_es.fromJS)(peopleResponse.data).map((function(people){return people.getIn([0,"neighborDetails"])})),response={data:peopleResponseData},_context.next=22,Object(redux_saga_effects_esm.put)(DownloadsActions.f.success(action.id,response.data));case 22:_context.next=30;break;case 24:return _context.prev=24,_context.t0=_context.catch(1),DownloadsSagas_LOG.error(action.type,_context.t0),response={error:_context.t0},_context.next=30,Object(redux_saga_effects_esm.put)(DownloadsActions.f.failure(action.id,_context.t0));case 30:return _context.prev=30,_context.next=33,Object(redux_saga_effects_esm.put)(DownloadsActions.f.finally(action.id));case 33:return _context.finish(30);case 34:return _context.abrupt("return",response);case 35:case"end":return _context.stop()}}),DownloadsSagas_marked,null,[[1,24,30,34]])}function getSubmissionProvidersWorker(action){var response,submissionIds,config,occurredAtESID,submissionESID,providerESID,providerResponse,providerResponseData;return regeneratorRuntime.wrap((function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(response={data:void 0},_context3.prev=1,submissionIds=action.value,Array.isArray(submissionIds)&&submissionIds.every(DownloadsSagas_isValidUUID)){_context3.next=5;break}throw Errors.ERR_ACTION_VALUE_TYPE;case 5:return _context3.next=7,Object(redux_saga_effects_esm.put)(DownloadsActions.e.request(action.id));case 7:return _context3.next=9,Object(redux_saga_effects_esm.select)((function(store){return store.getIn(app_constants.a.APP_CONFIG)}));case 9:return config=_context3.sent,occurredAtESID=getESIDFromConfig(config,edm_constants.a.OCCURRED_AT),submissionESID=getESIDFromConfig(config,edm_constants.a.SUBMISSION),providerESID=getESIDFromConfig(config,edm_constants.a.PROVIDER),_context3.next=15,Object(redux_saga_effects_esm.call)(DownloadsSagas_searchEntityNeighborsWithFilterWorker,DownloadsSagas_searchEntityNeighborsWithFilter({entitySetId:submissionESID,filter:{entityKeyIds:submissionIds,edgeEntitySetIds:[occurredAtESID],destinationEntitySetIds:[providerESID],sourceEntitySetIds:[]}}));case 15:if(!(providerResponse=_context3.sent).error){_context3.next=18;break}throw providerResponse.error;case 18:return providerResponseData=Object(immutable_es.fromJS)(providerResponse.data).map((function(people){return people.getIn([0,"neighborDetails"])})),response={data:providerResponseData},_context3.next=22,Object(redux_saga_effects_esm.put)(DownloadsActions.e.success(action.id,response.data));case 22:_context3.next=30;break;case 24:return _context3.prev=24,_context3.t0=_context3.catch(1),DownloadsSagas_LOG.error(action.type,_context3.t0),response={error:_context3.t0},_context3.next=30,Object(redux_saga_effects_esm.put)(DownloadsActions.e.failure(action.id,_context3.t0));case 30:return _context3.prev=30,_context3.next=33,Object(redux_saga_effects_esm.put)(DownloadsActions.e.finally(action.id));case 33:return _context3.finish(30);case 34:return _context3.abrupt("return",response);case 35:case"end":return _context3.stop()}}),DownloadsSagas_marked3,null,[[1,24,30,34]])}function downloadSurveysByDateRangeWorker(action){var response,_submissionsResponse$,value,config,submissionsESID,startTerm,endTerm,datetimePTID,searchTerm,searchConstraints,submissionsResponse,submissions,submissionsById,csvData,submissionIds,_csvData$merge,submissionResultsRequest,submissionPeopleRequest,submissionProvidersRequest,submissionSummarySetsRequest,_yield$all,_yield$all2,submissionResultsResponse,submissionPeopleResponse,submissionProvidersResponse,submissionSummarySetsResponse,summarySetResponseData,startDate,endDate,filename;return regeneratorRuntime.wrap((function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return response={data:void 0},_context5.prev=1,_context5.next=4,Object(redux_saga_effects_esm.put)(DownloadsActions.d.request(action.id));case 4:if(value=action.value,immutable_es.Map.isMap(value)){_context5.next=7;break}throw Errors.ERR_ACTION_VALUE_TYPE;case 7:return _context5.next=9,Object(redux_saga_effects_esm.select)((function(store){return store.getIn(app_constants.a.APP_CONFIG)}));case 9:return config=_context5.sent,submissionsESID=getESIDFromConfig(config,edm_constants.a.SUBMISSION),startTerm=Object(immutable_es.get)(value,"dateStart")||"*",endTerm=Object(immutable_es.get)(value,"dateEnd")||"*",searchTerm=getSearchTerm(datetimePTID="87f38161-9c95-4166-9721-8514882dac22","[".concat(startTerm," TO ").concat(endTerm,"]")),searchConstraints={entitySetIds:[submissionsESID],start:0,maxHits:1e4,constraints:[{constraints:[{type:"advanced",searchFields:[{searchTerm:searchTerm,property:datetimePTID}]}]}],sort:{propertyTypeId:datetimePTID,type:"field"}},_context5.next=18,Object(redux_saga_effects_esm.call)(searchEntitySetDataWorker,searchEntitySetData(searchConstraints));case 18:if(!(submissionsResponse=_context5.sent).error){_context5.next=21;break}throw submissionsResponse.error;case 21:if(submissions=null==submissionsResponse||null===(_submissionsResponse$=submissionsResponse.data)||void 0===_submissionsResponse$?void 0:_submissionsResponse$.hits,submissionsById=Object(immutable_es.Map)(submissions.map((function(entity){return[DownloadsSagas_getEntityKeyId(entity),Object(immutable_es.fromJS)(entity)]}))),csvData=Object(immutable_es.Map)(DownloadsSagas_defineProperty({},"submissions",submissionsById)),!(submissionIds=(null==submissions?void 0:submissions.map(DownloadsSagas_getEntityKeyId))||[]).length){_context5.next=50;break}return submissionResultsRequest=Object(redux_saga_effects_esm.call)(getSubmissionResultsWorker,Object(ProfileActions.q)(submissionIds)),submissionPeopleRequest=Object(redux_saga_effects_esm.call)(getSurveyPeopleWorker,Object(DownloadsActions.f)(submissionIds)),_context5.next=30,Object(redux_saga_effects_esm.call)(getSubmissionProvidersWorker,Object(DownloadsActions.e)(submissionIds));case 30:return submissionProvidersRequest=_context5.sent,submissionSummarySetsRequest=Object(redux_saga_effects_esm.call)(getSummarySetsWorker,Object(ProfileActions.s)(submissionIds)),_context5.next=34,Object(redux_saga_effects_esm.all)([submissionResultsRequest,submissionPeopleRequest,submissionProvidersRequest,submissionSummarySetsRequest]);case 34:if(_yield$all=_context5.sent,_yield$all2=DownloadsSagas_slicedToArray(_yield$all,4),submissionResultsResponse=_yield$all2[0],submissionPeopleResponse=_yield$all2[1],submissionProvidersResponse=_yield$all2[2],submissionSummarySetsResponse=_yield$all2[3],!submissionResultsResponse.error){_context5.next=42;break}throw submissionResultsResponse.error;case 42:if(!submissionPeopleResponse.error){_context5.next=44;break}throw submissionPeopleResponse.error;case 44:if(!submissionProvidersResponse.error){_context5.next=46;break}throw submissionProvidersResponse.error;case 46:if(!submissionSummarySetsResponse.error){_context5.next=48;break}throw submissionSummarySetsResponse.error;case 48:summarySetResponseData=Object(immutable_es.fromJS)(submissionSummarySetsResponse.data).map((function(summarySets){return summarySets.getIn([0,"neighborDetails"])})),csvData=csvData.merge((_csvData$merge={},DownloadsSagas_defineProperty(_csvData$merge,"personBySubmission",submissionPeopleResponse.data),DownloadsSagas_defineProperty(_csvData$merge,"providerBySubmission",submissionProvidersResponse.data),DownloadsSagas_defineProperty(_csvData$merge,"summarySetBySubmission",summarySetResponseData),_csvData$merge)).merge(submissionResultsResponse.data);case 50:return startDate=luxon.DateTime.fromISO(startTerm).toFormat("yyyyLLdd"),endDate=luxon.DateTime.fromISO(endTerm).toFormat("yyyyLLdd"),filename="surveys_".concat(startDate,"-").concat(endDate,".csv"),generateHelplineSubmissionsCSV(csvData,filename),_context5.next=56,Object(redux_saga_effects_esm.put)(DownloadsActions.d.success(action.id));case 56:_context5.next=64;break;case 58:return _context5.prev=58,_context5.t0=_context5.catch(1),DownloadsSagas_LOG.error(action.type,_context5.t0),response={error:_context5.t0},_context5.next=64,Object(redux_saga_effects_esm.put)(DownloadsActions.d.failure(action.id));case 64:return _context5.prev=64,_context5.next=67,Object(redux_saga_effects_esm.put)(DownloadsActions.d.finally(action.id));case 67:return _context5.finish(64);case 68:return _context5.abrupt("return",response);case 69:case"end":return _context5.stop()}}),DownloadsSagas_marked5,null,[[1,58,64,68]])}function downloadSurveysByDateRangeWatcher(){return regeneratorRuntime.wrap((function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,Object(redux_saga_effects_esm.takeLatest)(DownloadsActions.a,downloadSurveysByDateRangeWorker);case 2:case"end":return _context6.stop()}}),DownloadsSagas_marked6)}var RoutingSagas=__webpack_require__(224),Sagas_marked=regeneratorRuntime.mark(sagas);function sagas(){return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(redux_saga_effects_esm.all)([Object(redux_saga_effects_esm.fork)(lattice_auth_build.AuthSagas.watchAuthAttempt),Object(redux_saga_effects_esm.fork)(lattice_auth_build.AuthSagas.watchAuthSuccess),Object(redux_saga_effects_esm.fork)(lattice_auth_build.AuthSagas.watchAuthFailure),Object(redux_saga_effects_esm.fork)(lattice_auth_build.AuthSagas.watchAuthExpired),Object(redux_saga_effects_esm.fork)(lattice_auth_build.AuthSagas.watchLogout),Object(redux_saga_effects_esm.fork)(initializeHelplineWatcher),Object(redux_saga_effects_esm.fork)(getEntityDataModelTypesWatcher),Object(redux_saga_effects_esm.fork)(RoutingSagas.a),Object(redux_saga_effects_esm.fork)(RoutingSagas.b),Object(redux_saga_effects_esm.fork)(getAggregateResultsWatcher),Object(redux_saga_effects_esm.fork)(getPersonWatcher),Object(redux_saga_effects_esm.fork)(getProfileSummaryWatcher),Object(redux_saga_effects_esm.fork)(getSubmissionsWatcher),Object(redux_saga_effects_esm.fork)(getSubmissionResultsWatcher),Object(redux_saga_effects_esm.fork)(getSurveyWatcher),Object(redux_saga_effects_esm.fork)(downloadSurveysByDateRangeWatcher)]);case 2:case"end":return _context.stop()}}),Sagas_marked)}var helplineStore=function initializeReduxStore(routerHistory){var sagaMiddleware=Object(redux_saga_core_esm.a)(),reduxMiddlewares=[sagaMiddleware,Object(immutable.routerMiddleware)(routerHistory)],reduxEnhancers=[redux.applyMiddleware.apply(void 0,reduxMiddlewares)],composeEnhancers=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({stateSanitizer:function stateSanitizer(state){return state.setIn(["edm","entityTypes"],"HIDDEN").setIn(["edm","entityTypesIndexMap"],"HIDDEN").setIn(["edm","propertyTypes"],"HIDDEN").setIn(["edm","propertyTypesIndexMap"],"HIDDEN")},maxAge:100}):redux.compose,reduxStore=Object(redux.createStore)(function reduxReducer(routerHistory){var _combineReducers;return Object(dist.combineReducers)((ReduxReducer_defineProperty(_combineReducers={},REDUCERS_APP,reducer),ReduxReducer_defineProperty(_combineReducers,REDUCERS_DATA,DataReducer_reducer),ReduxReducer_defineProperty(_combineReducers,REDUCERS_DOWNLOADS,downloadsReducer),ReduxReducer_defineProperty(_combineReducers,REDUCERS_EDM,EDMReducer_reducer),ReduxReducer_defineProperty(_combineReducers,REDUCERS_PROFILE,profileReducer),ReduxReducer_defineProperty(_combineReducers,REDUCERS_ROUTER,Object(immutable.connectRouter)(routerHistory)),_combineReducers))}(routerHistory),immutable_es.default.Map(),composeEnhancers.apply(void 0,reduxEnhancers));return sagaMiddleware.run(sagas),reduxStore}(__webpack_require__(304).a),helplineContext=react_default.a.createContext(null),useDispatch=(Object(es.createStoreHook)(helplineContext),Object(es.createDispatchHook)(helplineContext)),useSelector=Object(es.createSelectorHook)(helplineContext)},291:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ROOT}));var ROOT="/"},304:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return routerHistory}));var esm_history=__webpack_require__(86);__webpack_require__(291),__webpack_require__(181),__webpack_require__(224);var routerHistory=function initializeRouterHistory(){return Object(esm_history.b)()}()},46:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DOWNLOAD_SURVEYS_BY_DATE_RANGE})),__webpack_require__.d(__webpack_exports__,"c",(function(){return GET_SURVEY_PEOPLE})),__webpack_require__.d(__webpack_exports__,"b",(function(){return GET_SUBMISSION_PROVIDERS})),__webpack_require__.d(__webpack_exports__,"d",(function(){return downloadSurveysByDateRange})),__webpack_require__.d(__webpack_exports__,"f",(function(){return getSurveyPeople})),__webpack_require__.d(__webpack_exports__,"e",(function(){return getSubmissionProviders}));var redux_reqseq__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),DOWNLOAD_SURVEYS_BY_DATE_RANGE="DOWNLOAD_SURVEYS_BY_DATE_RANGE",downloadSurveysByDateRange=Object(redux_reqseq__WEBPACK_IMPORTED_MODULE_0__.newRequestSequence)("DOWNLOAD_SURVEYS_BY_DATE_RANGE"),GET_SURVEY_PEOPLE="GET_SURVEY_PEOPLE",getSurveyPeople=Object(redux_reqseq__WEBPACK_IMPORTED_MODULE_0__.newRequestSequence)(GET_SURVEY_PEOPLE),GET_SUBMISSION_PROVIDERS="GET_SUBMISSION_PROVIDERS",getSubmissionProviders=Object(redux_reqseq__WEBPACK_IMPORTED_MODULE_0__.newRequestSequence)(GET_SUBMISSION_PROVIDERS)},49:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getPropertyValue})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getPropertyValues}));__webpack_require__(30);var immutable__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),lattice__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(40),getPropertyValue=(lattice__WEBPACK_IMPORTED_MODULE_2__.Models.FQN,function(entity,fqn){return Object(immutable__WEBPACK_IMPORTED_MODULE_1__.getIn)(entity,[fqn,0])}),getPropertyValues=function(entity,fqns){return fqns.map((function(fqn){return getPropertyValue(entity,fqn)}))}},6:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return GET_AGGREGATE_RESULTS})),__webpack_require__.d(__webpack_exports__,"b",(function(){return GET_GREATEST_NEEDS})),__webpack_require__.d(__webpack_exports__,"c",(function(){return GET_PERSON})),__webpack_require__.d(__webpack_exports__,"d",(function(){return GET_PROFILE_SUMMARY})),__webpack_require__.d(__webpack_exports__,"e",(function(){return GET_QUESTIONS_FROM_ANSWERS})),__webpack_require__.d(__webpack_exports__,"f",(function(){return GET_SUBMISSIONS})),__webpack_require__.d(__webpack_exports__,"g",(function(){return GET_SUBMISSION_ANSWERS})),__webpack_require__.d(__webpack_exports__,"i",(function(){return GET_SUMMARY_SETS})),__webpack_require__.d(__webpack_exports__,"j",(function(){return GET_SURVEY})),__webpack_require__.d(__webpack_exports__,"h",(function(){return GET_SUBMISSION_RESULTS})),__webpack_require__.d(__webpack_exports__,"k",(function(){return getAggregateResults})),__webpack_require__.d(__webpack_exports__,"l",(function(){return getGreatestNeeds})),__webpack_require__.d(__webpack_exports__,"m",(function(){return getPerson})),__webpack_require__.d(__webpack_exports__,"n",(function(){return getProfileSummary})),__webpack_require__.d(__webpack_exports__,"o",(function(){return getQuestionsFromAnswers})),__webpack_require__.d(__webpack_exports__,"p",(function(){return getSubmissionAnswers})),__webpack_require__.d(__webpack_exports__,"r",(function(){return getSubmissions})),__webpack_require__.d(__webpack_exports__,"s",(function(){return getSummarySets})),__webpack_require__.d(__webpack_exports__,"t",(function(){return getSurvey})),__webpack_require__.d(__webpack_exports__,"q",(function(){return getSubmissionResults}));var redux_reqseq__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),GET_PERSON="GET_PERSON",getPerson=Object(redux_reqseq__WEBPACK_IMPORTED_MODULE_0__.newRequestSequence)("GET_PERSON"),GET_SUBMISSIONS=(Object(redux_reqseq__WEBPACK_IMPORTED_MODULE_0__.newRequestSequence)("GET_PROFILE"),Object(redux_reqseq__WEBPACK_IMPORTED_MODULE_0__.newRequestSequence)("GET_SURVEYS"),"GET_SUBMISSIONS"),getSubmissions=Object(redux_reqseq__WEBPACK_IMPORTED_MODULE_0__.newRequestSequence)(GET_SUBMISSIONS),GET_PROFILE_SUMMARY="GET_PROFILE_SUMMARY",getProfileSummary=Object(redux_reqseq__WEBPACK_IMPORTED_MODULE_0__.newRequestSequence)(GET_PROFILE_SUMMARY),GET_SUMMARY_SETS="GET_SUMMARY_SETS",getSummarySets=Object(redux_reqseq__WEBPACK_IMPORTED_MODULE_0__.newRequestSequence)(GET_SUMMARY_SETS),GET_SUBMISSION_ANSWERS="GET_SUBMISSION_ANSWERS",getSubmissionAnswers=Object(redux_reqseq__WEBPACK_IMPORTED_MODULE_0__.newRequestSequence)(GET_SUBMISSION_ANSWERS),GET_QUESTIONS_FROM_ANSWERS="GET_QUESTIONS_FROM_ANSWERS",getQuestionsFromAnswers=Object(redux_reqseq__WEBPACK_IMPORTED_MODULE_0__.newRequestSequence)(GET_QUESTIONS_FROM_ANSWERS),GET_GREATEST_NEEDS="GET_GREATEST_NEEDS",getGreatestNeeds=Object(redux_reqseq__WEBPACK_IMPORTED_MODULE_0__.newRequestSequence)(GET_GREATEST_NEEDS),GET_SURVEY="GET_SURVEY",getSurvey=Object(redux_reqseq__WEBPACK_IMPORTED_MODULE_0__.newRequestSequence)(GET_SURVEY),GET_SUBMISSION_RESULTS="GET_SUBMISSION_RESULTS",getSubmissionResults=Object(redux_reqseq__WEBPACK_IMPORTED_MODULE_0__.newRequestSequence)(GET_SUBMISSION_RESULTS),GET_AGGREGATE_RESULTS="GET_AGGREGATE_RESULTS",getAggregateResults=Object(redux_reqseq__WEBPACK_IMPORTED_MODULE_0__.newRequestSequence)(GET_AGGREGATE_RESULTS)},61:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return INITIALIZE_HELPLINE})),__webpack_require__.d(__webpack_exports__,"c",(function(){return initializeHelpline})),__webpack_require__.d(__webpack_exports__,"b",(function(){return SET_ROOT}));var redux_reqseq__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),INITIALIZE_HELPLINE="INITIALIZE_HELPLINE",initializeHelpline=Object(redux_reqseq__WEBPACK_IMPORTED_MODULE_0__.newRequestSequence)("INITIALIZE_HELPLINE"),SET_ROOT="SET_ROOT"},67:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return components_GreatestNeeds})),__webpack_require__.d(__webpack_exports__,"b",(function(){return components_HelplineContainer})),__webpack_require__.d(__webpack_exports__,"c",(function(){return HelplineProvider})),__webpack_require__.d(__webpack_exports__,"d",(function(){return components_ProfileCard})),__webpack_require__.d(__webpack_exports__,"e",(function(){return components_SelfSufficiencyMatrix})),__webpack_require__.d(__webpack_exports__,"f",(function(){return components_SocialNeedsSurvey})),__webpack_require__.d(__webpack_exports__,"g",(function(){return components_SurveyHistory}));__webpack_require__(30),__webpack_require__(28),__webpack_require__(47),__webpack_require__(50);var react=__webpack_require__(1),react_default=__webpack_require__.n(react),styled_components_browser_esm=__webpack_require__(13),build=__webpack_require__(5);function _templateObject3(){var data=_taggedTemplateLiteral(["\n  font-size: 1.125rem;\n  font-weight: 600;\n  margin: 0 0 24px;\n"]);return _templateObject3=function(){return data},data}function _templateObject2(){var data=_taggedTemplateLiteral(["\n  color: ",";\n  display: inline-block;\n  margin: 0 0 24px;\n  white-space: pre-wrap;\n"]);return _templateObject2=function(){return data},data}function _templateObject(){var data=_taggedTemplateLiteral(["\n  font-size: 1.375rem;\n  font-weight: 600;\n  margin: 0 0 24px;\n"]);return _templateObject=function(){return data},data}function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var NEUTRAL=build.Colors.NEUTRAL,Header=styled_components_browser_esm.default.h2(_templateObject()),Caption=styled_components_browser_esm.default.span(_templateObject2(),NEUTRAL.N500),Subheader=styled_components_browser_esm.default.h3(_templateObject3());function GreatestNeeds_templateObject2(){var data=GreatestNeeds_taggedTemplateLiteral(["\n  display: flex;\n  flex-wrap: wrap;\n"]);return GreatestNeeds_templateObject2=function(){return data},data}function GreatestNeeds_templateObject(){var data=GreatestNeeds_taggedTemplateLiteral(["\n  font-size: 1rem;\n  margin-right: 8px;\n"]);return GreatestNeeds_templateObject=function(){return data},data}function GreatestNeeds_taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var StyledChip=Object(styled_components_browser_esm.default)(build.Chip)(GreatestNeeds_templateObject()),ChipsWrapper=styled_components_browser_esm.default.div(GreatestNeeds_templateObject2()),_ref2=react_default.a.createElement(Header,null,"Greatest Needs"),GreatestNeeds_ref3=react_default.a.createElement(Caption,null,"Below are the categories in which this person scored the lowest on in the most recent survey."),GreatestNeeds=function(_ref){var _ref$needs=_ref.needs,needs=void 0===_ref$needs?[]:_ref$needs;return react_default.a.createElement("div",null,_ref2,GreatestNeeds_ref3,react_default.a.createElement(ChipsWrapper,null,needs.map((function(need,index){return react_default.a.createElement(StyledChip,{key:index,label:need})}))))};GreatestNeeds.displayName="GreatestNeeds",GreatestNeeds.defaultProps={needs:[]},GreatestNeeds.__docgenInfo={description:"",methods:[],displayName:"GreatestNeeds",props:{needs:{defaultValue:{value:"[]",computed:!1},required:!1,flowType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""}}};var components_GreatestNeeds=GreatestNeeds;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/profile/src/components/GreatestNeeds.js"]={name:"GreatestNeeds",docgenInfo:GreatestNeeds.__docgenInfo,path:"src/containers/profile/src/components/GreatestNeeds.js"});__webpack_require__(44),__webpack_require__(102);var immutable=__webpack_require__(179),es=__webpack_require__(78),redux=__webpack_require__(23),router=__webpack_require__(304);function HelplineProvider(_ref){var children=_ref.children;return react_default.a.createElement(es.Provider,{context:redux.a,store:redux.b},react_default.a.createElement(immutable.ConnectedRouter,{history:router.a,context:redux.a},children))}HelplineProvider.displayName="HelplineProvider",HelplineProvider.__docgenInfo={description:"",methods:[],displayName:"HelplineProvider",props:{children:{required:!0,flowType:{name:"Node"},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/profile/src/components/HelplineProvider.js"]={name:"HelplineProvider",docgenInfo:HelplineProvider.__docgenInfo,path:"src/containers/profile/src/components/HelplineProvider.js"});var lattice_utils_build=__webpack_require__(17),react_router=__webpack_require__(45),redux_reqseq_build=__webpack_require__(7),immutable_es=(__webpack_require__(9),__webpack_require__(20),__webpack_require__(31),__webpack_require__(55),__webpack_require__(33),__webpack_require__(24),__webpack_require__(34),__webpack_require__(26),__webpack_require__(16),__webpack_require__(35),__webpack_require__(25),__webpack_require__(27),__webpack_require__(3)),ol_icon=__webpack_require__(693),ol_icon_default=__webpack_require__.n(ol_icon),ol_portrait=__webpack_require__(694),ol_portrait_default=__webpack_require__.n(ol_portrait);function icons_templateObject2(){var data=icons_taggedTemplateLiteral([""]);return icons_templateObject2=function(){return data},data}function icons_templateObject(){var data=icons_taggedTemplateLiteral([""]);return icons_templateObject=function(){return data},data}function icons_taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}styled_components_browser_esm.default.img.attrs({alt:"openlattice-icon",src:ol_icon_default.a})(icons_templateObject());var OLPortrait=styled_components_browser_esm.default.img.attrs({alt:"ol-portrait",src:ol_portrait_default.a})(icons_templateObject2());function Portrait_templateObject(){var data=function Portrait_taggedTemplateLiteral(strings,raw){raw||(raw=strings.slice(0));return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n  border-radius: 3px;\n  object-fit: cover;\n  object-position: 50% 50%;\n"]);return Portrait_templateObject=function(){return data},data}var isNonEmptyString=lattice_utils_build.LangUtils.isNonEmptyString,Image=styled_components_browser_esm.default.img(Portrait_templateObject()),Portrait_ref=react_default.a.createElement(OLPortrait,null),Portrait=function(props){var height=props.height,imageUrl=props.imageUrl,width=props.width;return isNonEmptyString(imageUrl)?react_default.a.createElement(Image,{src:imageUrl,height:height,width:width}):Portrait_ref};Portrait.displayName="Portrait",Portrait.defaultProps={height:247,width:247,imageUrl:""},Portrait.__docgenInfo={description:"",methods:[],displayName:"Portrait",props:{height:{defaultValue:{value:"247",computed:!1},required:!1,flowType:{name:"number"},description:""},width:{defaultValue:{value:"247",computed:!1},required:!1,flowType:{name:"number"},description:""},imageUrl:{defaultValue:{value:"''",computed:!1},required:!1,flowType:{name:"string"},description:""}}};var components_Portrait=Portrait;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/profile/src/components/Portrait.js"]={name:"Portrait",docgenInfo:Portrait.__docgenInfo,path:"src/containers/profile/src/components/Portrait.js"});var PropertyTypes=__webpack_require__(180),EntityUtils=__webpack_require__(49);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _templateObject4(){var data=ProfileCard_taggedTemplateLiteral(["\n  border-bottom: none;\n  place-items: center;\n"]);return _templateObject4=function(){return data},data}function ProfileCard_templateObject3(){var data=ProfileCard_taggedTemplateLiteral(["\n  padding-top: 0;\n  word-break: word-wrap;\n\n  label:not(:first-of-type) {\n    margin-top: 30px;\n  }\n"]);return ProfileCard_templateObject3=function(){return data},data}function ProfileCard_templateObject2(){var data=ProfileCard_taggedTemplateLiteral(["\n    width: 100%;\n  "]);return ProfileCard_templateObject2=function(){return data},data}function ProfileCard_templateObject(){var data=ProfileCard_taggedTemplateLiteral(["\n  display: inline-block;\n  ","\n"]);return ProfileCard_templateObject=function(){return data},data}function ProfileCard_taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var media=build.StyleUtils.media,formatAsDate=lattice_utils_build.DateTimeUtils.formatAsDate,DOB=PropertyTypes.a.DOB,GIVEN_NAME=PropertyTypes.a.GIVEN_NAME,SURNAME=PropertyTypes.a.SURNAME,InlineCard=Object(styled_components_browser_esm.default)(build.Card)(ProfileCard_templateObject(),media.phone(ProfileCard_templateObject2())),CardDetails=Object(styled_components_browser_esm.default)(build.CardSegment)(ProfileCard_templateObject3()),PortraitSegment=Object(styled_components_browser_esm.default)(build.CardSegment)(_templateObject4()),ProfileCard_ref2=react_default.a.createElement(build.Label,{subtle:!0},"Last Name"),ProfileCard_ref3=react_default.a.createElement(build.Label,{subtle:!0},"First Name"),ProfileCard_ref4=react_default.a.createElement(build.Label,{subtle:!0},"Date of Birth"),ProfileCard=function(_ref){var imageUrl=_ref.imageUrl,person=_ref.person,_getPropertyValues2=_slicedToArray(Object(EntityUtils.b)(person,[GIVEN_NAME,SURNAME,DOB]),3),firstName=_getPropertyValues2[0],lastName=_getPropertyValues2[1],dob=_getPropertyValues2[2],formattedDob=formatAsDate(dob);return react_default.a.createElement(InlineCard,null,react_default.a.createElement(PortraitSegment,null,react_default.a.createElement(components_Portrait,{imageUrl:imageUrl})),react_default.a.createElement(CardDetails,null,ProfileCard_ref2,react_default.a.createElement("div",null,lastName||"---"),ProfileCard_ref3,react_default.a.createElement("div",null,firstName||"---"),ProfileCard_ref4,react_default.a.createElement("div",null,formattedDob)))};ProfileCard.displayName="ProfileCard",ProfileCard.defaultProps={imageUrl:void 0,person:Object(immutable_es.Map)()},ProfileCard.__docgenInfo={description:"",methods:[],displayName:"ProfileCard",props:{imageUrl:{defaultValue:{value:"undefined",computed:!0},required:!1,flowType:{name:"string"},description:""},person:{defaultValue:{value:"Map()",computed:!0},required:!1,flowType:{name:"Map"},description:""}}};var components_ProfileCard=ProfileCard;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/profile/src/components/ProfileCard.js"]={name:"ProfileCard",docgenInfo:ProfileCard.__docgenInfo,path:"src/containers/profile/src/components/ProfileCard.js"});var constants=__webpack_require__(15);function ProfileAside_templateObject(){var data=function ProfileAside_taggedTemplateLiteral(strings,raw){raw||(raw=strings.slice(0));return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n  align-items: center;\n"]);return ProfileAside_templateObject=function(){return data},data}var Centered=styled_components_browser_esm.default.div(ProfileAside_templateObject()),ProfileAside=function(){var person=Object(redux.d)((function(store){return store.getIn(constants.g.person)}));return react_default.a.createElement(Centered,null,react_default.a.createElement(components_ProfileCard,{person:person}))};ProfileAside.displayName="ProfileAside",ProfileAside.__docgenInfo={description:"",methods:[],displayName:"ProfileAside"};var components_ProfileAside=ProfileAside;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/profile/src/components/ProfileAside.js"]={name:"ProfileAside",docgenInfo:ProfileAside.__docgenInfo,path:"src/containers/profile/src/components/ProfileAside.js"});__webpack_require__(1669);var es6=__webpack_require__(81);function StyledTooltip_templateObject(){var data=function StyledTooltip_taggedTemplateLiteral(strings,raw){raw||(raw=strings.slice(0));return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n  background-color: ",";\n  border-radius: 3px;\n  color: white;\n  display: flex;\n  flex-direction: column;\n  font-size: 0.75rem;\n  font-weight: 600;\n  min-width: ",";\n  max-width: ",";\n  padding: 5px 10px;\n  place-items: center;\n\n  span {\n    overflow: hidden;\n    position: absolute;\n    box-sizing: border-box;\n    content: '\"\"';\n    margin: auto;\n    display: block;\n    width: 10px;\n    height: 10px;\n    background-color: ",";\n    transform: translateY(1rem) rotate(45deg);\n  }\n"]);return StyledTooltip_templateObject=function(){return data},data}var StyledTooltip_NEUTRAL=build.Colors.NEUTRAL,styled_StyledTooltip=styled_components_browser_esm.default.div(StyledTooltip_templateObject(),StyledTooltip_NEUTRAL.N800,(function(_ref){var minWidth=_ref.minWidth;return minWidth?"".concat(minWidth,"px"):0}),(function(_ref2){var maxWidth=_ref2.maxWidth;return maxWidth?"".concat(maxWidth,"px"):null}),StyledTooltip_NEUTRAL.N800),SelfSufficiencyTooltip_ref2=react_default.a.createElement("span",null),SelfSufficiencyTooltip=function(_ref){var minWidth=_ref.minWidth,payload=_ref.payload,display="";return payload[0]&&(display=payload[0].value),react_default.a.createElement(styled_StyledTooltip,{minWidth:minWidth},display,SelfSufficiencyTooltip_ref2)};SelfSufficiencyTooltip.displayName="SelfSufficiencyTooltip",SelfSufficiencyTooltip.defaultProps={minWidth:0,payload:[]},SelfSufficiencyTooltip.__docgenInfo={description:"",methods:[],displayName:"SelfSufficiencyTooltip",props:{minWidth:{defaultValue:{value:"0",computed:!1},required:!1,flowType:{name:"number"},description:""},payload:{defaultValue:{value:"[]",computed:!1},required:!1,flowType:{name:"Array",elements:[{name:"any"}],raw:"any[]"},description:""}}};var components_SelfSufficiencyTooltip=SelfSufficiencyTooltip;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/tooltips/src/components/SelfSufficiencyTooltip.js"]={name:"SelfSufficiencyTooltip",docgenInfo:SelfSufficiencyTooltip.__docgenInfo,path:"src/components/tooltips/src/components/SelfSufficiencyTooltip.js"});__webpack_require__(37);var AggregateQuestionTooltip=function(_ref){var _payload$,_payload$$payload,_payload$2,_payload$2$payload,payload=_ref.payload,text=null===(_payload$=payload[0])||void 0===_payload$||null===(_payload$$payload=_payload$.payload)||void 0===_payload$$payload?void 0:_payload$$payload.text,score=null===(_payload$2=payload[0])||void 0===_payload$2||null===(_payload$2$payload=_payload$2.payload)||void 0===_payload$2$payload?void 0:_payload$2$payload.score,display="".concat(text," (").concat(score,")");return react_default.a.createElement(styled_StyledTooltip,{maxWidth:300},display)};AggregateQuestionTooltip.displayName="AggregateQuestionTooltip",AggregateQuestionTooltip.defaultProps={payload:[]};var components_AggregateQuestionTooltip=AggregateQuestionTooltip;function AggregateQuestionCard_templateObject(){var data=function AggregateQuestionCard_taggedTemplateLiteral(strings,raw){raw||(raw=strings.slice(0));return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n  margin-bottom: 24px;\n"]);return AggregateQuestionCard_templateObject=function(){return data},data}var GREEN=build.Colors.GREEN,AggregateQuestionCard_NEUTRAL=build.Colors.NEUTRAL,RED=build.Colors.RED,YELLOW=build.Colors.YELLOW,TICK_STYLE={fill:AggregateQuestionCard_NEUTRAL.N500,fontSize:"0.75rem"},SCORE_CATEGORY_COLORS=[AggregateQuestionCard_NEUTRAL.N300,GREEN.G200,YELLOW.Y100,RED.R200],MarginCard=Object(styled_components_browser_esm.default)(build.Card)(AggregateQuestionCard_templateObject()),MinBar=function(props){var stroke=props.stroke,fill=props.fill,x=props.x,y=props.y,width=props.width,height=props.height;return react_default.a.createElement("rect",{x:x,y:y,width:width||5,height:height,stroke:stroke,fill:fill})};MinBar.displayName="MinBar";var AggregateQuestionCard_ref2=react_default.a.createElement(es6.h,{axisLine:!1,dataKey:"date",minTickGap:10,tick:TICK_STYLE,tickLine:!1,type:"category",width:70}),AggregateQuestionCard_ref3=react_default.a.createElement(components_AggregateQuestionTooltip,null),AggregateQuestionCard_ref4=react_default.a.createElement(MinBar,null),AggregateQuestionCard=function(_ref){var questionData=_ref.questionData,title=questionData.get("title"),data=questionData.get("data"),containerHeight=30*data.length+10*(data.length+1);return react_default.a.createElement(MarginCard,null,react_default.a.createElement(build.CardSegment,{padding:"30px 30px 20px"},react_default.a.createElement("div",null,title),react_default.a.createElement(es6.e,{width:"100%",height:containerHeight},react_default.a.createElement(es6.b,{data:data,layout:"vertical"},AggregateQuestionCard_ref2,react_default.a.createElement(es6.g,{axisLine:!1,dataKey:"score",domain:[0,25],height:0,tick:TICK_STYLE,tickCount:0,tickLine:!1,type:"number"}),react_default.a.createElement(es6.f,{content:AggregateQuestionCard_ref3,cursor:{fill:AggregateQuestionCard_NEUTRAL.N50}}),react_default.a.createElement(es6.a,{barSize:30,dataKey:"score",shape:AggregateQuestionCard_ref4},data.map((function(payload){return react_default.a.createElement(es6.d,{fill:SCORE_CATEGORY_COLORS[payload.scoreCategory],key:"".concat(payload.id)})})))))))};AggregateQuestionCard.displayName="AggregateQuestionCard",AggregateQuestionCard.__docgenInfo={description:"",methods:[],displayName:"AggregateQuestionCard",props:{questionData:{required:!0,flowType:{name:"Map"},description:""}}};var components_AggregateQuestionCard=AggregateQuestionCard;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/profile/src/components/AggregateQuestionCard.js"]={name:"AggregateQuestionCard",docgenInfo:AggregateQuestionCard.__docgenInfo,path:"src/containers/profile/src/components/AggregateQuestionCard.js"});var styled=__webpack_require__(84),lattice_build=(__webpack_require__(168),__webpack_require__(54),__webpack_require__(89),__webpack_require__(136),__webpack_require__(393),__webpack_require__(1775),__webpack_require__(97),__webpack_require__(172),__webpack_require__(56),__webpack_require__(40)),luxon=__webpack_require__(60),edm_constants=__webpack_require__(8);function utils_slicedToArray(arr,i){return function utils_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function utils_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function utils_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return utils_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return utils_arrayLikeToArray(o,minLen)}(arr,i)||function utils_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function utils_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var OPENLATTICE_ID_FQN=lattice_build.Constants.OPENLATTICE_ID_FQN,getFirstLastFromPerson=function(person){var firstName=Object(immutable_es.getIn)(person,[edm_constants.b.GIVEN_NAME,0],"").trim(),last=Object(immutable_es.getIn)(person,[edm_constants.b.SURNAME,0],"").trim();return"".concat(firstName," ").concat(last)},getRelativeRoot=function(root,match){return match.params?Object.entries(match.params).reduce((function(newRoot,_ref){var _ref2=utils_slicedToArray(_ref,2),param=_ref2[0],value=_ref2[1];return newRoot.replace(RegExp(":".concat(param),"g"),value)}),root):root},ProfileActions=__webpack_require__(6),REQUEST_STATE=lattice_utils_build.ReduxConstants.REQUEST_STATE,AggregateResults_ref2=react_default.a.createElement(styled.c,null,react_default.a.createElement(build.Spinner,{size:"3x"})),AggregateResults_ref3=react_default.a.createElement(Header,null,"Aggregate Survey Results"),AggregateResults_ref4=react_default.a.createElement(Caption,null,"Below are the survey results for every survey this person has taken."),AggregateResults=function(_ref){var personId=_ref.personId,dispatch=Object(redux.c)(),submissions=Object(redux.d)((function(store){return store.getIn(constants.g.submissions)})),questions=Object(redux.d)((function(store){return store.getIn(constants.g.questions)})),answers=Object(redux.d)((function(store){return store.getIn(constants.g.answers)})),surveyAnswersByQuestion=Object(redux.d)((function(store){return store.getIn(constants.g.submissionAnswersByQuestion)})),fetchState=Object(redux.d)((function(state){return state.getIn([constants.f,ProfileActions.a,REQUEST_STATE])}));if(Object(react.useEffect)((function(){dispatch(Object(ProfileActions.k)(personId))}),[dispatch,personId]),fetchState===redux_reqseq_build.RequestStates.PENDING)return AggregateResults_ref2;var aggregateResults=function(){var questions=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Object(immutable_es.Map)(),answers=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Object(immutable_es.Map)(),submissionAnswersByQuestion=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Object(immutable_es.Map)(),submissions=3<arguments.length&&void 0!==arguments[3]?arguments[3]:Object(immutable_es.Map)(),aggregateResults=Object(immutable_es.fromJS)(constants.b).sortBy((function(category,number){return parseInt(number,10)})).reduce((function(grouped,category,number){var entry=questions.findEntry((function(q){return Object(EntityUtils.a)(q,edm_constants.b.CODE)===number}));if(entry){var _entry=utils_slicedToArray(entry,2),questionId=_entry[0],question=_entry[1],title=Object(EntityUtils.a)(question,edm_constants.b.TITLE),data=[];submissionAnswersByQuestion.forEach((function(answerByQuestion,submissionId){var submission=submissions.get(submissionId),answerId=answerByQuestion.get(questionId),answer=answers.get(answerId),submissionDate=Object(EntityUtils.a)(submission,edm_constants.b.DATE_TIME),score=Object(EntityUtils.a)(answer,edm_constants.b.SCORE_VALUE),scoreCategory=Object(EntityUtils.a)(answer,edm_constants.b.SCORE_CATEGORY),text=Object(EntityUtils.a)(answer,edm_constants.b.VALUES),date=luxon.DateTime.fromISO(submissionDate).toLocaleString(luxon.DateTime.DATE_SHORT);data.push({date:date,id:answerId,score:score,scoreCategory:scoreCategory,text:text})}));var aggregateQuestion=Object(immutable_es.Map)({data:data,id:questionId,title:title});return grouped.push(aggregateQuestion)}return grouped}),Object(immutable_es.List)());return aggregateResults}(questions,answers,surveyAnswersByQuestion,submissions);return react_default.a.createElement("div",null,AggregateResults_ref3,AggregateResults_ref4,aggregateResults.map((function(questionResult){return react_default.a.createElement(components_AggregateQuestionCard,{key:questionResult.get("id"),questionData:questionResult})})))};AggregateResults.displayName="AggregateResults",AggregateResults.__docgenInfo={description:"",methods:[],displayName:"AggregateResults",props:{personId:{required:!0,flowType:{name:"UUID"},description:""}}};var components_AggregateResults=AggregateResults;function SelfSufficiencyMatrix_slicedToArray(arr,i){return function SelfSufficiencyMatrix_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function SelfSufficiencyMatrix_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function SelfSufficiencyMatrix_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return SelfSufficiencyMatrix_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SelfSufficiencyMatrix_arrayLikeToArray(o,minLen)}(arr,i)||function SelfSufficiencyMatrix_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SelfSufficiencyMatrix_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/profile/src/components/AggregateResults.js"]={name:"AggregateResults",docgenInfo:AggregateResults.__docgenInfo,path:"src/containers/profile/src/components/AggregateResults.js"});var PURPLE=build.Colors.PURPLE,SelfSufficiencyMatrix_TICK_STYLE={fill:build.Colors.NEUTRAL.N500,fontSize:"0.75rem"},SelfSufficiencyMatrix_ref2=react_default.a.createElement(Header,null,"Self-Sufficiency Risk"),SelfSufficiencyMatrix_ref3=react_default.a.createElement(es6.c,{vertical:!1}),SelfSufficiencyMatrix_ref4=react_default.a.createElement(es6.g,{dataKey:"x",tick:SelfSufficiencyMatrix_TICK_STYLE,tickLine:!1,type:"category"}),SelfSufficiencyMatrix=function(_ref){var data=_ref.data,_useState2=SelfSufficiencyMatrix_slicedToArray(Object(react.useState)({minWidth:0,position:void 0}),2),tooltipPayload=_useState2[0],setTooltip=_useState2[1];return react_default.a.createElement("div",null,SelfSufficiencyMatrix_ref2,react_default.a.createElement(es6.e,{height:350,width:"100%"},react_default.a.createElement(es6.b,{barCategoryGap:"20%",data:data,layout:"horizontal"},SelfSufficiencyMatrix_ref3,react_default.a.createElement(es6.h,{axisLine:!1,domain:[0,180],minTickGap:10,tick:SelfSufficiencyMatrix_TICK_STYLE,tickLine:!1,width:30}),SelfSufficiencyMatrix_ref4,tooltipPayload.active&&react_default.a.createElement(es6.f,{content:react_default.a.createElement(components_SelfSufficiencyTooltip,{minWidth:tooltipPayload.minWidth}),cursor:!1,position:tooltipPayload.position}),react_default.a.createElement(es6.a,{dataKey:"y",fill:PURPLE.P200,maxBarSize:60,onMouseEnter:function onMouseEnter(bar){var x=bar.x,y=bar.y,width=bar.width;setTooltip({minWidth:width,position:{x:x,y:y-36},active:!0})},onMouseLeave:function onMouseLeave(){setTooltip({active:!1,position:void 0,minWidth:0})}}))))};SelfSufficiencyMatrix.displayName="SelfSufficiencyMatrix",SelfSufficiencyMatrix.defaultProps={data:[]},SelfSufficiencyMatrix.__docgenInfo={description:"",methods:[],displayName:"SelfSufficiencyMatrix",props:{data:{defaultValue:{value:"[]",computed:!1},required:!1,flowType:{name:"Array",elements:[{name:"Object"}],raw:"Object[]"},description:""}}};var components_SelfSufficiencyMatrix=SelfSufficiencyMatrix;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/profile/src/components/SelfSufficiencyMatrix.js"]={name:"SelfSufficiencyMatrix",docgenInfo:SelfSufficiencyMatrix.__docgenInfo,path:"src/containers/profile/src/components/SelfSufficiencyMatrix.js"});var index_es=__webpack_require__(227),react_fontawesome_index_es=__webpack_require__(226),react_router_dom=__webpack_require__(223),app_constants=__webpack_require__(77);function SurveyHistory_slicedToArray(arr,i){return function SurveyHistory_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function SurveyHistory_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function SurveyHistory_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return SurveyHistory_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SurveyHistory_arrayLikeToArray(o,minLen)}(arr,i)||function SurveyHistory_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SurveyHistory_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function SurveyHistory_templateObject(){var data=function SurveyHistory_taggedTemplateLiteral(strings,raw){raw||(raw=strings.slice(0));return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n  font-weight: 500;\n"]);return SurveyHistory_templateObject=function(){return data},data}var SurveyHistory_formatAsDate=lattice_utils_build.DateTimeUtils.formatAsDate,SurveyHistory_OPENLATTICE_ID_FQN=lattice_build.Constants.OPENLATTICE_ID_FQN,NAME=edm_constants.b.NAME,DATE_TIME=edm_constants.b.DATE_TIME,SurveyName=styled_components_browser_esm.default.span(SurveyHistory_templateObject()),SurveyHistory_ref2=react_default.a.createElement(Header,null,"Survey History"),SurveyHistory_ref3=react_default.a.createElement(build.ListItemAvatar,null,react_default.a.createElement(react_fontawesome_index_es.a,{icon:index_es.a})),SurveyHistory=function(_ref){var surveys=_ref.surveys,root=Object(redux.d)((function(store){return store.getIn(app_constants.a.ROOT)})),match=Object(redux.d)((function(store){return store.getIn(app_constants.a.MATCH)})),relRoot=getRelativeRoot(root,match);return react_default.a.createElement("div",null,SurveyHistory_ref2,react_default.a.createElement(build.List,null,surveys.map((function(survey,index){var _getPropertyValues2=SurveyHistory_slicedToArray(Object(EntityUtils.b)(survey,[NAME,DATE_TIME,SurveyHistory_OPENLATTICE_ID_FQN]),3),_getPropertyValues2$=_getPropertyValues2[0],name=void 0===_getPropertyValues2$?"Social Needs Survey":_getPropertyValues2$,datetime=_getPropertyValues2[1],surveyId=_getPropertyValues2[2],formattedDateTime=SurveyHistory_formatAsDate(datetime),isLast=immutable_es.List.isList(surveys)?index===surveys.size-1:index===surveys.length-1;return react_default.a.createElement(build.ListItem,{button:!0,component:react_router_dom.a,divider:!isLast,to:"".concat(relRoot,"/survey/").concat(surveyId),key:surveyId},SurveyHistory_ref3,react_default.a.createElement(build.ListItemText,{primary:react_default.a.createElement(SurveyName,null,name),secondary:formattedDateTime}))}))))};SurveyHistory.displayName="SurveyHistory",SurveyHistory.defaultProps={surveys:[]},SurveyHistory.__docgenInfo={description:"",methods:[],displayName:"SurveyHistory",props:{surveys:{defaultValue:{value:"[]",computed:!1},required:!1,flowType:{name:"union",raw:"iList | Object[]",elements:[{name:"iList"},{name:"Array",elements:[{name:"Object"}],raw:"Object[]"}]},description:""}}};var components_SurveyHistory=SurveyHistory;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/profile/src/components/SurveyHistory.js"]={name:"SurveyHistory",docgenInfo:SurveyHistory.__docgenInfo,path:"src/containers/profile/src/components/SurveyHistory.js"});var ProfileSummary_REQUEST_STATE=lattice_utils_build.ReduxConstants.REQUEST_STATE,ProfileSummary_ref2=react_default.a.createElement(styled.c,null,react_default.a.createElement(build.Spinner,{size:"3x"})),ProfileSummary=function(_ref){var personId=_ref.personId,dispatch=Object(redux.c)(),needs=Object(redux.d)((function(state){return state.getIn(constants.g.greatestNeeds)})),selfSufficiency=Object(redux.d)((function(state){return state.getIn(constants.g.selfSufficiency)})),surveys=Object(redux.d)((function(state){return state.getIn(constants.g.surveyHistory)})),fetchState=Object(redux.d)((function(state){return state.getIn([constants.f,ProfileActions.d,ProfileSummary_REQUEST_STATE])})),lastRequest=Object(redux.d)((function(state){return state.getIn(constants.g.lastRequest)}));return Object(react.useEffect)((function(){var time=lastRequest.get(personId);(!time||3e5<luxon.DateTime.local().valueOf()-time)&&dispatch(Object(ProfileActions.n)(personId))}),[dispatch,lastRequest,personId]),fetchState===redux_reqseq_build.RequestStates.PENDING?ProfileSummary_ref2:react_default.a.createElement(styled.b,null,react_default.a.createElement(components_GreatestNeeds,{needs:needs}),react_default.a.createElement(components_SelfSufficiencyMatrix,{data:selfSufficiency.toJS()}),react_default.a.createElement(components_SurveyHistory,{surveys:surveys}))};ProfileSummary.displayName="ProfileSummary",ProfileSummary.__docgenInfo={description:"",methods:[],displayName:"ProfileSummary",props:{personId:{required:!0,flowType:{name:"UUID"},description:""}}};var components_ProfileSummary=ProfileSummary;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/profile/src/components/ProfileSummary.js"]={name:"ProfileSummary",docgenInfo:ProfileSummary.__docgenInfo,path:"src/containers/profile/src/components/ProfileSummary.js"});var TabPanel=function(props){var activeName=props.activeName,children=props.children,name=props.name;return react_default.a.createElement("div",{"aria-labelledby":"tab-".concat(name),hidden:activeName!==name,id:"tabpanel-".concat(name),role:"tabpanel"},activeName===name&&children)};TabPanel.displayName="TabPanel",TabPanel.__docgenInfo={description:"",methods:[],displayName:"TabPanel",props:{activeName:{required:!0,flowType:{name:"string"},description:""},children:{required:!0,flowType:{name:"Node"},description:""},name:{required:!0,flowType:{name:"string"},description:""}}};var tabs_TabPanel=TabPanel;function tabs_templateObject3(){var data=tabs_taggedTemplateLiteral(["\n  border-radius: 0;\n  ",";\n"]);return tabs_templateObject3=function(){return data},data}function tabs_templateObject2(){var data=tabs_taggedTemplateLiteral(["\n      background-color: ",";\n      border-color: ",";\n      color: white;\n    "]);return tabs_templateObject2=function(){return data},data}function tabs_templateObject(){var data=tabs_taggedTemplateLiteral(["\n  margin-right: auto;\n\n  button:first-of-type {\n    border-radius: 3px 0 0 3px;\n  }\n\n  button:last-of-type {\n    border-radius: 0 3px 3px 0;\n  }\n"]);return tabs_templateObject=function(){return data},data}function tabs_taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/tabs/TabPanel.js"]={name:"TabPanel",docgenInfo:TabPanel.__docgenInfo,path:"src/components/tabs/TabPanel.js"});var tabs_NEUTRAL=build.Colors.NEUTRAL,TabGroup=styled_components_browser_esm.default.div(tabs_templateObject()),TabButton=Object(styled_components_browser_esm.default)(build.Button)(tabs_templateObject3(),(function(_ref){return _ref.active?Object(styled_components_browser_esm.css)(tabs_templateObject2(),tabs_NEUTRAL.N400,tabs_NEUTRAL.N400):null})),AppActions=__webpack_require__(61);function ProfileBody_slicedToArray(arr,i){return function ProfileBody_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function ProfileBody_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function ProfileBody_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return ProfileBody_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ProfileBody_arrayLikeToArray(o,minLen)}(arr,i)||function ProfileBody_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ProfileBody_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ProfileBody_templateObject3(){var data=ProfileBody_taggedTemplateLiteral(["\n  margin-bottom: 24px;\n"]);return ProfileBody_templateObject3=function(){return data},data}function ProfileBody_templateObject2(){var data=ProfileBody_taggedTemplateLiteral(["\n    padding: 0;\n  "]);return ProfileBody_templateObject2=function(){return data},data}function ProfileBody_templateObject(){var data=ProfileBody_taggedTemplateLiteral(["\n  padding: 0 16px;\n\n  .MuiTabPanel-root {\n    padding: 16px 0;\n  }\n\n  ","\n"]);return ProfileBody_templateObject=function(){return data},data}function ProfileBody_taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var ProfileBody_media=build.StyleUtils.media,BodyWrapper=styled_components_browser_esm.default.div(ProfileBody_templateObject(),ProfileBody_media.phone(ProfileBody_templateObject2())),TabWrapper=styled_components_browser_esm.default.div(ProfileBody_templateObject3()),ProfileBody_ref2=react_default.a.createElement(styled.c,null,react_default.a.createElement(build.Spinner,{size:"3x"})),ProfileBody=function(_ref){var personId=_ref.personId,initializeState=Object(redux.d)((function(state){return state.getIn(["app",AppActions.a,"requestState"])})),_React$useState2=ProfileBody_slicedToArray(react_default.a.useState("summary"),2),tab=_React$useState2[0],setTab=_React$useState2[1];return initializeState===redux_reqseq_build.RequestStates.PENDING?ProfileBody_ref2:react_default.a.createElement(BodyWrapper,null,react_default.a.createElement(TabWrapper,null,react_default.a.createElement(TabGroup,null,react_default.a.createElement(TabButton,{active:"summary"===tab,name:"summary-btn",onClick:function onClick(){return setTab("summary")},type:"button"},"Summary"),react_default.a.createElement(TabButton,{active:"scores"===tab,name:"scores-btn",onClick:function onClick(){return setTab("scores")},type:"button"},"Scores"))),react_default.a.createElement(tabs_TabPanel,{activeName:tab,name:"summary"},react_default.a.createElement(components_ProfileSummary,{personId:personId})),react_default.a.createElement(tabs_TabPanel,{activeName:tab,name:"scores"},react_default.a.createElement(components_AggregateResults,{personId:personId})))};ProfileBody.displayName="ProfileBody",ProfileBody.__docgenInfo={description:"",methods:[],displayName:"ProfileBody",props:{personId:{required:!0,flowType:{name:"UUID"},description:""}}};var components_ProfileBody=ProfileBody;function breadcrumbs_templateObject4(){var data=breadcrumbs_taggedTemplateLiteral(["\n  margin-bottom: 32px;\n"]);return breadcrumbs_templateObject4=function(){return data},data}function breadcrumbs_templateObject3(){var data=breadcrumbs_taggedTemplateLiteral(["\n  ",";\n  color: ",";\n"]);return breadcrumbs_templateObject3=function(){return data},data}function breadcrumbs_templateObject2(){var data=breadcrumbs_taggedTemplateLiteral(["\n  ",";\n  color: ",";\n  text-decoration: none;\n\n  :hover {\n    text-decoration: underline;\n  }\n"]);return breadcrumbs_templateObject2=function(){return data},data}function breadcrumbs_templateObject(){var data=breadcrumbs_taggedTemplateLiteral(["\n  font-size: 1rem;\n  font-weight: 600;\n"]);return breadcrumbs_templateObject=function(){return data},data}function breadcrumbs_taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/profile/src/components/ProfileBody.js"]={name:"ProfileBody",docgenInfo:ProfileBody.__docgenInfo,path:"src/containers/profile/src/components/ProfileBody.js"});var breadcrumbs_NEUTRAL=build.Colors.NEUTRAL,breadcrumbs_PURPLE=build.Colors.PURPLE,breadcrumbStyle=Object(styled_components_browser_esm.css)(breadcrumbs_templateObject()),BreadcrumbLink=Object(styled_components_browser_esm.default)(react_router_dom.a)(breadcrumbs_templateObject2(),breadcrumbStyle,breadcrumbs_PURPLE.P300),BreadcrumbItem=styled_components_browser_esm.default.span(breadcrumbs_templateObject3(),breadcrumbStyle,breadcrumbs_NEUTRAL.N500),BreadcrumbWrapper=styled_components_browser_esm.default.div(breadcrumbs_templateObject4());function ProfileContainer_templateObject2(){var data=ProfileContainer_taggedTemplateLiteral(["\n    grid-template-columns: auto;\n  "]);return ProfileContainer_templateObject2=function(){return data},data}function ProfileContainer_templateObject(){var data=ProfileContainer_taggedTemplateLiteral(["\n  display: grid;\n  grid-gap: 18px;\n  grid-template-columns: auto 1fr;\n  ","\n"]);return ProfileContainer_templateObject=function(){return data},data}function ProfileContainer_taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var ProfileContainer_media=build.StyleUtils.media,ProfileGrid=styled_components_browser_esm.default.div(ProfileContainer_templateObject(),ProfileContainer_media.phone(ProfileContainer_templateObject2())),ProfileContainer_ref2=react_default.a.createElement(components_ProfileAside,null),ProfileContainer=function(_ref){var personId=_ref.personId,person=Object(redux.d)((function(store){return store.getIn(constants.g.person)})),name=getFirstLastFromPerson(person);return react_default.a.createElement("div",null,react_default.a.createElement(BreadcrumbWrapper,null,react_default.a.createElement(build.Breadcrumbs,null,react_default.a.createElement(BreadcrumbItem,null,name))),react_default.a.createElement(ProfileGrid,null,ProfileContainer_ref2,react_default.a.createElement(components_ProfileBody,{personId:personId})))};ProfileContainer.displayName="ProfileContainer",ProfileContainer.__docgenInfo={description:"",methods:[],displayName:"ProfileContainer",props:{personId:{required:!0,flowType:{name:"UUID"},description:""}}};var components_ProfileContainer=ProfileContainer;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/profile/src/components/ProfileContainer.js"]={name:"ProfileContainer",docgenInfo:ProfileContainer.__docgenInfo,path:"src/containers/profile/src/components/ProfileContainer.js"});__webpack_require__(141);function SurveyQuestion_slicedToArray(arr,i){return function SurveyQuestion_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function SurveyQuestion_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function SurveyQuestion_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return SurveyQuestion_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SurveyQuestion_arrayLikeToArray(o,minLen)}(arr,i)||function SurveyQuestion_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SurveyQuestion_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function SurveyQuestion_templateObject3(){var data=SurveyQuestion_taggedTemplateLiteral(["\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(230px, 1fr));\n  grid-gap: 16px;\n  padding-bottom: 8px;\n"]);return SurveyQuestion_templateObject3=function(){return data},data}function SurveyQuestion_templateObject2(){var data=SurveyQuestion_taggedTemplateLiteral(["\n  color: ",";\n  margin: 16px 0;\n"]);return SurveyQuestion_templateObject2=function(){return data},data}function SurveyQuestion_templateObject(){var data=SurveyQuestion_taggedTemplateLiteral(["\n  list-style-position: inside;\n  padding-inline-start: 0;\n  margin: 0;\n"]);return SurveyQuestion_templateObject=function(){return data},data}function SurveyQuestion_taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var SurveyQuestion_OPENLATTICE_ID_FQN=lattice_build.Constants.OPENLATTICE_ID_FQN,SurveyQuestion_NEUTRAL=build.Colors.NEUTRAL,SCORE_CATEGORY_COLOR_MAP=["neutral","green","yellow","red"],TitleWrapper=styled_components_browser_esm.default.ul(SurveyQuestion_templateObject()),Title=styled_components_browser_esm.default.li(SurveyQuestion_templateObject2(),SurveyQuestion_NEUTRAL.N500),AnswerWrapper=styled_components_browser_esm.default.div(SurveyQuestion_templateObject3()),TITLE=edm_constants.b.TITLE,VALUES=edm_constants.b.VALUES,SCORE_CATEGORY=edm_constants.b.SCORE_CATEGORY,SurveyQuestion=function(_ref){var question=_ref.question,answer=_ref.answer,_getPropertyValues2=SurveyQuestion_slicedToArray(Object(EntityUtils.b)(question,[TITLE,VALUES,SurveyQuestion_OPENLATTICE_ID_FQN]),3),title=_getPropertyValues2[0],options=_getPropertyValues2[1],questionId=_getPropertyValues2[2],_getPropertyValues4=SurveyQuestion_slicedToArray(Object(EntityUtils.b)(answer,[SCORE_CATEGORY,VALUES]),2),scoreCategory=_getPropertyValues4[0],value=_getPropertyValues4[1],parsedOptions=options.split(";");return react_default.a.createElement("div",null,react_default.a.createElement(TitleWrapper,null,react_default.a.createElement(Title,null,title)),react_default.a.createElement(AnswerWrapper,null,parsedOptions.map((function(option){var label=option.replace(/\([^()]*\)/g,""),color=SCORE_CATEGORY_COLOR_MAP[scoreCategory];return react_default.a.createElement(styled.a,{key:"".concat(questionId,"-").concat(label),color:value===option?color:"default",disableFocusRipple:!0},label)}))))};SurveyQuestion.displayName="SurveyQuestion",SurveyQuestion.__docgenInfo={description:"",methods:[],displayName:"SurveyQuestion",props:{question:{required:!0,flowType:{name:"Map"},description:""},answer:{required:!0,flowType:{name:"Map"},description:""}}};var components_SurveyQuestion=SurveyQuestion;function SurveySection_templateObject(){var data=function SurveySection_taggedTemplateLiteral(strings,raw){raw||(raw=strings.slice(0));return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n  margin-bottom: 24px;\n"]);return SurveySection_templateObject=function(){return data},data}"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/profile/src/components/SurveyQuestion.js"]={name:"SurveyQuestion",docgenInfo:SurveyQuestion.__docgenInfo,path:"src/containers/profile/src/components/SurveyQuestion.js"});var SurveySection_OPENLATTICE_ID_FQN=lattice_build.Constants.OPENLATTICE_ID_FQN,SectionWrapper=styled_components_browser_esm.default.div(SurveySection_templateObject()),SurveySection=function(_ref){var sectionData=_ref.sectionData,title=_ref.title;return react_default.a.createElement(SectionWrapper,null,react_default.a.createElement(Subheader,null,title),sectionData.map((function(data){var questionId=data.getIn(["question",SurveySection_OPENLATTICE_ID_FQN,0]),question=data.get("question"),answer=data.get("answer");return react_default.a.createElement(components_SurveyQuestion,{answer:answer,key:questionId,question:question})})))};SurveySection.displayName="SurveySection",SurveySection.__docgenInfo={description:"",methods:[],displayName:"SurveySection",props:{sectionData:{required:!0,flowType:{name:"List"},description:""},title:{required:!0,flowType:{name:"string"},description:""}}};var components_SurveySection=SurveySection;function SocialNeedsSurvey_slicedToArray(arr,i){return function SocialNeedsSurvey_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function SocialNeedsSurvey_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||SocialNeedsSurvey_unsupportedIterableToArray(arr,i)||function SocialNeedsSurvey_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return SocialNeedsSurvey_arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||SocialNeedsSurvey_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SocialNeedsSurvey_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return SocialNeedsSurvey_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?SocialNeedsSurvey_arrayLikeToArray(o,minLen):void 0}}function SocialNeedsSurvey_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/profile/src/components/SurveySection.js"]={name:"SurveySection",docgenInfo:SurveySection.__docgenInfo,path:"src/containers/profile/src/components/SurveySection.js"});var SocialNeedsSurvey_formatAsDate=lattice_utils_build.DateTimeUtils.formatAsDate,formatAsTime=lattice_utils_build.DateTimeUtils.formatAsTime,SocialNeedsSurvey_DATE_TIME=edm_constants.b.DATE_TIME,FULL_NAME=edm_constants.b.FULL_NAME,SocialNeedsSurvey_ref2=react_default.a.createElement(Header,null,"Social Needs"),SocialNeedsSurvey=function(_ref){var surveyId=_ref.surveyId,person=Object(redux.d)((function(store){return store.getIn(constants.g.person)})),provider=Object(redux.d)((function(store){return store.getIn(constants.g.provider)})),submission=Object(redux.d)((function(store){return store.getIn([].concat(_toConsumableArray(constants.g.submissions),[surveyId]))})),questions=Object(redux.d)((function(store){return store.getIn(constants.g.questions)})),answers=Object(redux.d)((function(store){return store.getIn(constants.g.answers)})),answersByQuestion=Object(redux.d)((function(store){return store.getIn([].concat(_toConsumableArray(constants.g.submissionAnswersByQuestion),[surveyId]))})),root=Object(redux.d)((function(store){return store.getIn(app_constants.a.ROOT)})),match=Object(redux.d)((function(store){return store.getIn(app_constants.a.MATCH)})),datetime=Object(EntityUtils.a)(submission,SocialNeedsSurvey_DATE_TIME),name=getFirstLastFromPerson(person).trim(),providerName=Object(EntityUtils.a)(provider,FULL_NAME),formattedDate="",formattedTime="";"string"==typeof datetime&&(formattedDate=SocialNeedsSurvey_formatAsDate(datetime,""),formattedTime=formatAsTime(datetime,""));var surveyData=function(){var questions=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Object(immutable_es.Map)(),answers=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Object(immutable_es.Map)(),answersByQuestion=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Object(immutable_es.Map)(),surveyData=Object(immutable_es.fromJS)(constants.b).sortBy((function(category,number){return parseInt(number,10)})).reduce((function(grouped,category,number){var question=questions.find((function(q){return Object(EntityUtils.a)(q,edm_constants.b.CODE)===number}));if(question){var questionId=Object(EntityUtils.a)(question,OPENLATTICE_ID_FQN),answerId=answersByQuestion.get(questionId),answer=answers.get(answerId);return grouped.has(category)?grouped.mergeIn([category],Object(immutable_es.fromJS)([{answer:answer,question:question}])):grouped.set(category,Object(immutable_es.fromJS)([{answer:answer,question:question}]))}return grouped}),Object(immutable_es.OrderedMap)());return surveyData}(questions,answers,answersByQuestion),relRoot=getRelativeRoot(root,match),caption="Submitted ";return providerName&&(caption+="by ".concat(providerName," ")),name&&(caption+="for participant ".concat(name," ")),formattedDate&&formattedTime&&(caption+="at ".concat(formattedTime," on ").concat(formattedDate)),react_default.a.createElement("div",null,react_default.a.createElement(BreadcrumbWrapper,null,react_default.a.createElement(build.Breadcrumbs,null,react_default.a.createElement(BreadcrumbLink,{to:relRoot},name),react_default.a.createElement(BreadcrumbItem,null,"Social Needs Survey ".concat(formattedDate)))),react_default.a.createElement("div",null,SocialNeedsSurvey_ref2,react_default.a.createElement(Caption,null,caption),surveyData.entrySeq().map((function(_ref3){var _ref4=SocialNeedsSurvey_slicedToArray(_ref3,2),sectionTitle=_ref4[0],sectionData=_ref4[1];return react_default.a.createElement(components_SurveySection,{key:sectionTitle,sectionData:sectionData,title:sectionTitle})}))))};SocialNeedsSurvey.displayName="SocialNeedsSurvey",SocialNeedsSurvey.__docgenInfo={description:"",methods:[],displayName:"SocialNeedsSurvey",props:{surveyId:{required:!0,flowType:{name:"any"},description:""}}};var components_SocialNeedsSurvey=SocialNeedsSurvey;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/profile/src/components/SocialNeedsSurvey.js"]={name:"SocialNeedsSurvey",docgenInfo:SocialNeedsSurvey.__docgenInfo,path:"src/containers/profile/src/components/SocialNeedsSurvey.js"});var SurveyContainer_REQUEST_STATE=lattice_utils_build.ReduxConstants.REQUEST_STATE,SurveyContainer_ref=react_default.a.createElement(styled.c,null,react_default.a.createElement(build.Spinner,{size:"3x"})),SurveyContainer=function(){var dispatch=Object(redux.c)(),_useRouteMatch$params=Object(react_router.useRouteMatch)().params.surveyId,surveyId=void 0===_useRouteMatch$params?"":_useRouteMatch$params,fetchState=Object(redux.d)((function(state){return state.getIn([constants.f,ProfileActions.j,SurveyContainer_REQUEST_STATE])}));return Object(react.useEffect)((function(){dispatch(Object(ProfileActions.t)(surveyId))}),[dispatch,surveyId]),fetchState===redux_reqseq_build.RequestStates.PENDING?SurveyContainer_ref:react_default.a.createElement(components_SocialNeedsSurvey,{surveyId:surveyId})};SurveyContainer.displayName="SurveyContainer",SurveyContainer.__docgenInfo={description:"",methods:[],displayName:"SurveyContainer"};var components_SurveyContainer=SurveyContainer;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/profile/src/components/SurveyContainer.js"]={name:"SurveyContainer",docgenInfo:SurveyContainer.__docgenInfo,path:"src/containers/profile/src/components/SurveyContainer.js"});var isValidUUID=lattice_utils_build.ValidationUtils.isValidUUID,HelplineSwitch_ref2=react_default.a.createElement(styled.c,null,react_default.a.createElement(build.Spinner,{size:"3x"})),HelplineSwitch_ref3=react_default.a.createElement(components_SurveyContainer,null),HelplineSwitch=function(_ref){var match=_ref.match,organizationId=_ref.organizationId,personId=_ref.personId,root=_ref.root,dispatch=Object(redux.c)();Object(react.useEffect)((function(){isValidUUID(organizationId)&&dispatch(Object(AppActions.c)({match:match,organizationId:organizationId,root:root}))}),[dispatch,organizationId,root]);var initializeState=Object(redux.d)((function(state){return state.getIn(["app",AppActions.a,"requestState"])}));if(initializeState===redux_reqseq_build.RequestStates.PENDING||initializeState===redux_reqseq_build.RequestStates.STANDBY)return HelplineSwitch_ref2;var _ref4=react_default.a.createElement(components_ProfileContainer,{personId:personId});return react_default.a.createElement(react_router.Switch,null,react_default.a.createElement(react_router.Route,{path:"".concat(root,"/survey/:surveyId"),render:function render(){return HelplineSwitch_ref3}}),react_default.a.createElement(react_router.Route,{render:function render(){return _ref4}}))};HelplineSwitch.displayName="HelplineSwitch",HelplineSwitch.__docgenInfo={description:"",methods:[],displayName:"HelplineSwitch",props:{match:{required:!0,flowType:{name:"Match"},description:""},organizationId:{required:!0,flowType:{name:"UUID"},description:""},personId:{required:!0,flowType:{name:"UUID"},description:""},root:{required:!0,flowType:{name:"string"},description:""}}};var components_HelplineSwitch=HelplineSwitch;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/profile/src/components/HelplineSwitch.js"]={name:"HelplineSwitch",docgenInfo:HelplineSwitch.__docgenInfo,path:"src/containers/profile/src/components/HelplineSwitch.js"});var HelplineContainer=function(props){var organizationId=props.organizationId,personId=props.personId,match=props.match,root=props.root;return react_default.a.createElement(HelplineProvider,null,react_default.a.createElement(components_HelplineSwitch,{match:match,organizationId:organizationId,personId:personId,root:root}))};HelplineContainer.displayName="HelplineContainer",HelplineContainer.__docgenInfo={description:"",methods:[],displayName:"HelplineContainer",props:{match:{required:!0,flowType:{name:"Match"},description:""},organizationId:{required:!0,flowType:{name:"UUID"},description:""},personId:{required:!0,flowType:{name:"UUID"},description:""},root:{required:!0,flowType:{name:"string"},description:""}}};var components_HelplineContainer=HelplineContainer;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/profile/src/components/HelplineContainer.js"]={name:"HelplineContainer",docgenInfo:HelplineContainer.__docgenInfo,path:"src/containers/profile/src/components/HelplineContainer.js"})},693:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/ol-icon.11c358fd.svg"},694:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/ol-portrait.b5cc1862.svg"},732:function(module,exports,__webpack_require__){__webpack_require__(733),__webpack_require__(879),__webpack_require__(880),__webpack_require__(1610),__webpack_require__(1611),module.exports=__webpack_require__(1634)},74:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ERR_ACTION_VALUE_NOT_DEFINED",(function(){return ERR_ACTION_VALUE_NOT_DEFINED})),__webpack_require__.d(__webpack_exports__,"ERR_ACTION_VALUE_TYPE",(function(){return ERR_ACTION_VALUE_TYPE})),__webpack_require__.d(__webpack_exports__,"ERR_INVALID_ROUTE",(function(){return ERR_INVALID_ROUTE})),__webpack_require__.d(__webpack_exports__,"ERR_INVALID_UUID",(function(){return ERR_INVALID_UUID})),__webpack_require__.d(__webpack_exports__,"ERR_UNEXPECTED_STATE",(function(){return ERR_UNEXPECTED_STATE})),__webpack_require__.d(__webpack_exports__,"ERR_WORKER_SAGA",(function(){return ERR_WORKER_SAGA}));var ERR_ACTION_VALUE_NOT_DEFINED=Error("invalid parameter: action.value is required and must be defined"),ERR_ACTION_VALUE_TYPE=Error("invalid parameter: action.value is the incorrect type"),ERR_INVALID_ROUTE=Error('invalid route: a route must be a non-empty string that starts with "/"'),ERR_INVALID_UUID=Error("invalid uuid"),ERR_UNEXPECTED_STATE=Error("unexpected state"),ERR_WORKER_SAGA=Error("caught exception in worker saga")},77:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return APP_PATHS}));var APP_PATHS={APP_CONFIG:["app","appConfig","config"],ROOT:["app","root"],MATCH:["app","match"]}},797:function(module,exports){},8:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AppTypes})),__webpack_require__.d(__webpack_exports__,"b",(function(){return PropertyTypes.a}));var FQN=__webpack_require__(40).Models.FQN,AppTypes={ADDRESSES:FQN.of("app.addresses"),ANSWER:FQN.of("app.answer"),ASSESSED_BY:FQN.of("app.assessedby2"),INTERNET_SESSION:FQN.of("app.internetsession"),LOCATED_AT:FQN.of("app.locatedat"),LOCATION:FQN.of("app.location"),OCCURRED_AT:FQN.of("app.occurredat"),PARTICIPATED_IN:FQN.of("app.participatedin"),PART_OF:FQN.of("app.partof"),PEOPLE:FQN.of("app.people"),PROVIDER:FQN.of("app.provider"),QUESTION:FQN.of("app.question"),REGISTERED_FOR:FQN.of("app.registeredfor"),RESPONDS_WITH:FQN.of("app.respondswith"),SUBMISSION:FQN.of("app.submission"),SUMMARY_SET:FQN.of("app.summaryset"),SURVEY:FQN.of("app.survey")},PropertyTypes=__webpack_require__(180)},84:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return styled_Answer})),__webpack_require__.d(__webpack_exports__,"b",(function(){return Body})),__webpack_require__.d(__webpack_exports__,"c",(function(){return CenterWrapper}));__webpack_require__(28),__webpack_require__(47),__webpack_require__(50);var styled_components_browser_esm=__webpack_require__(13),build=__webpack_require__(5);function _templateObject7(){var data=_taggedTemplateLiteral(["\n  align-items: center;\n  border-radius: 3px;\n  display: flex;\n  min-height: 60px;\n  justify-content: center;\n  line-height: 1.2;\n  padding: 10px 16px;\n  text-align: center;\n  vertical-align: center;\n  width: 100%;\n  ",";\n"]);return _templateObject7=function(){return data},data}function _templateObject6(){var data=_taggedTemplateLiteral(["\n  background-color: ",";\n  color: ",";\n"]);return _templateObject6=function(){return data},data}function _templateObject5(){var data=_taggedTemplateLiteral(["\n    background-color: ",";\n    color: ",";\n  "]);return _templateObject5=function(){return data},data}function _templateObject4(){var data=_taggedTemplateLiteral(["\n  background-color: ",";\n  color: ",";\n"]);return _templateObject4=function(){return data},data}function _templateObject3(){var data=_taggedTemplateLiteral(["\n  background-color: ",";\n  color: ",";\n"]);return _templateObject3=function(){return data},data}function _templateObject2(){var data=_taggedTemplateLiteral(["\n    background-color: ",";\n    color: white;\n  "]);return _templateObject2=function(){return data},data}function _templateObject(){var data=_taggedTemplateLiteral(["\n    background-color: ",";\n    color: ",";\n  "]);return _templateObject=function(){return data},data}function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var NEUTRAL=build.Colors.NEUTRAL,GREEN=build.Colors.GREEN,YELLOW=build.Colors.YELLOW,RED=build.Colors.RED,getColorVariation=(0,build.StyleUtils.getStyleVariation)("color",{default:Object(styled_components_browser_esm.css)(_templateObject(),NEUTRAL.N50,NEUTRAL.N700),green:Object(styled_components_browser_esm.css)(_templateObject2(),GREEN.G200),yellow:Object(styled_components_browser_esm.css)(_templateObject3(),YELLOW.Y100,YELLOW.Y500),red:Object(styled_components_browser_esm.css)(_templateObject4(),RED.R200,RED.R500),neutral:Object(styled_components_browser_esm.css)(_templateObject5(),NEUTRAL.N300,NEUTRAL.N900)},Object(styled_components_browser_esm.css)(_templateObject6(),NEUTRAL.N50,NEUTRAL.N800)),styled_Answer=styled_components_browser_esm.default.div(_templateObject7(),getColorVariation);function styled_templateObject2(){var data=styled_taggedTemplateLiteral(["\n  align-items: center;\n  display: flex;\n  height: 100%;\n  justify-content: center;\n"]);return styled_templateObject2=function(){return data},data}function styled_templateObject(){var data=styled_taggedTemplateLiteral(["\n  display: grid;\n  grid-gap: 36px;\n  grid-auto-flow: row;\n"]);return styled_templateObject=function(){return data},data}function styled_taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var Body=styled_components_browser_esm.default.div(styled_templateObject()),CenterWrapper=styled_components_browser_esm.default.div(styled_templateObject2())}},[[732,1,2]]]);
//# sourceMappingURL=main.e767181425aac98bef0a.bundle.js.map